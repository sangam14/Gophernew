<!DOCTYPE HTML>



<html lang="gr">
	<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta name="description" content="Μαθήματα προγραμματισμού της γλώσσας Elixir">
  <meta name="author" content="Sean Callan">

  <meta property="og:url" content="http://localhost:4000/gr/lessons/specifics/mnesia/">
  <meta property="og:site_name" content="ElixirSchool">
  <meta property="og:title" content="Elixir School">
  <meta property="og:locale" content="gr">
  <meta property="og:description" content="Μαθήματα προγραμματισμού της γλώσσας Elixir">
  <meta property="og:image" content="http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg">
  
  
    
    
    
    
      <link rel="alternate" hreflang="en" href="/en/lessons/specifics/mnesia/" />
      <link rel="alternate" hreflang="x-default" href="/en/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="es" href="/es/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="el" href="/gr/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="id" href="/id/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ko" href="/ko/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pl" href="/pl/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pt" href="/pt/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ru" href="/ru/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="th" href="/th/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="vi" href="/vi/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hans" href="/zh-hans/lessons/specifics/mnesia/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hant" href="/zh-hant/lessons/specifics/mnesia/" />
    
  

  <link rel="canonical" href="http://localhost:4000/gr/lessons/specifics/mnesia/">
  <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/assets/favicons/apple-touch-icon-06ad80501b5734bba0428ca0fc14fcbe45811a144914f7be78cdab3c3ea25458.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/assets/favicons/favicon-32x32-6e7b9eca57d29d185a5184e844c1372ce9da0a71f373f89b80ff11f120b01678.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/assets/favicons/favicon-16x16-789b56195138252cac40cf7f2425b6fcb4e71c3084abc8525781188781b958d3.png">
  <link rel="manifest" href="http://localhost:4000/manifest.json">
  <link rel="shortcut icon" href="http://localhost:4000/assets/favicons/favicon-8e1fdc2a44d6344b9871b3ecf53a803903891f82a602a3f59c65eda40f2b77b0.ico">
  <link rel="alternate" type="application/rss+xml" title="Elixir School" href="https://elixirschool.com/feed.xml" />
  <meta name="msapplication-config" content="http://localhost:4000/assets/favicons/browserconfig-e66282a6754e6899f9a53c6ebfe120749630242b741deb65f364abc297ccbc96.xml">
  <meta name="theme-color" content="#ffffff">

  
  
  <title>Mnesia &middot; Elixir School</title>
  <!-- CSS -->
  <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="stylesheet" type="text/css" href="/assets/main-07a5a32c1a26652d2bb0e43b4c7ade37f20599a76cae3c1e871d3af53cff80b2.css">
  <!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="/assets/ie9-0c07c3ea146a3dd5dce4effda97b3718824cab9c30149877c0e445edecfdee60.css"><![endif]-->
  <!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="/assets/ie8-f0c85ce6ad95a6d33929cb969a44f41a5e96ecb22de55f55d0f3c83cfc0012fc.css"><![endif]-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
  <script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("C0p07Sw9j7mZnycKDCgPOAyqJR5hhyoQ");
  analytics.page()
  }}();
  </script>
  <script type="text/javascript">
    if ("serviceWorker" in navigator) {
      if (!navigator.serviceWorker.controller) {
        navigator.serviceWorker.register("http://localhost:4000/serviceworker.js", {
          scope: "http://localhost:4000"
        })
        .then(reg => console.log("Service worker has been registered for scope: ", reg.scope))
        .catch(error => console.log("Service worker registration has failed: ", error));
      }
    }  
  </script>
</head>

	<body class="is-loading">
    <script type="text/javascript">
    var $theme = localStorage.getItem('theme');
    if ($theme === 'dark') document.body.classList.add("dark");
    </script>
		<!-- Wrapper -->
		<div id="wrapper">
			<!-- Main -->
			<div id="main">
				<div class="inner">
					<!-- Header -->
					<header id="header">
					  <a href="/gr/" class="logo"><strong>Elixir School</strong></a>
					  <ul class="icons">
  
  <li><iframe src="https://ghbtns.com/github-btn.html?user=elixirschool&repo=elixirschool&type=star&count=true" height="20" title="GitHub Stars" width="93" style="vertical-align: sub;"></iframe></li>
  <li><a target="_blank" rel="noopener" title="RSS" href="https://elixirschool.com/feed.xml" class="icon fa-rss-square"><span class="label">RSS</span></a></li>
  <li><a target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/gr/lessons/specifics/mnesia/&title=Mnesia&summary=description&source=http://localhost:4000" class="icon fa-linkedin"><span class="label">Linkedin</span></a></li>
  <li><a target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/intent/tweet?url=http://localhost:4000/gr/lessons/specifics/mnesia/&via=elixirschool&text=ElixirSchool: Mnesia&hashtags=learnelixir%2Celixirlang&" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
  <li><a target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/gr/lessons/specifics/mnesia/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
  <li><a target="_blank" rel="noopener" title="Pinterest" href="https://www.pinterest.com/pin/create/link/?url=http://localhost:4000/gr/lessons/specifics/mnesia/&media=http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg&description=ElixirSchool: Mnesia" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
  <li><a target="_blank" rel="noopener" title="VK" href="https://vk.com/share.php?url=http://localhost:4000/gr/lessons/specifics/mnesia/&title=ElixirSchool: Mnesia&description=Check out 'Mnesia' on ElixirSchool" class="icon fa-vk"><span class="label">VK</span></a></li>
  <li><a target="_blank" rel="noopener" title="Email" href="mailto:?to=&subject=ElixirSchool: Mnesia&body=Check out 'Mnesia' on ElixirSchool%0D%0A%0D%0Ahttp://localhost:4000/gr/lessons/specifics/mnesia/" class="icon fa-envelope"><span class="label">Email</span></a></li>
  <li><a title="Print" href="javascript:window.print()" class="icon fa-print"><span class="label">Print</span></a></li>
</ul>

					</header>
					<section id="section-page" class="ltr">
  <header class="main">
    
    <h1 class="page-title">
  <span class="version-difference-indicator version-difference-none"></span>
  Mnesia
</h1>
<div class="version-info version-info-none">
  <span>
    

    Αυτή η μετάφραση είναι πλήρως ενημερωμένη.
  </span>
</div>

    
  </header>
  <div class="content">
    <p>To Mnesia είναι ένα κατανεμημένο σύστημα διαχείρισης βάσεων δεδομένων που λειτουργεί σε πραγματικό χρόνο.</p>

<h2>Πίνακας περιεχομένων</h2>
<div id="toc"></div>

<h2 id="επισκόπηση">Επισκόπηση</h2>

<p>Το Mnesia είναι ένα Σύστημα Διαχείρισης Βάσεων Δεδομένων (Database Management System - DBMS) που έρχεται μαζί με το Erlang Runtime System το οποίο μπορούμε να χρησιμοποιήσουμε φυσικά με την Elixir.
Το <em>σχεσιακό και υβριδικό αντικείμενο μοντέλο δεδομένων</em> του Mnesia είναι το πιο ταιριαστό για την ανάπτυξη κατανεμημένων εφαρμογών κάθε κλίμακας.</p>

<h2 id="πότε-να-το-χρησιμοποιήσετε">Πότε να το χρησιμοποιήσετε</h2>

<p>Δεν είναι πάντα ξεκάθαρο το πότε θα χρησιμοποιήσουμε ένα κομμάτι τεχνολογίας.
Αν μπορείτε να απαντήσετε ‘ναι’ σε κάποια από τις παρακάτω ερωτήσεις, τότε αυτή είναι μια καλή ένδειξη για τη χρήση του Mnesia αντί των ETS ή DETS.</p>

<ul>
  <li>Χρειάζεται να γυρίσω πίσω μεταφορές;</li>
  <li>Χρειάζομαι ένα εύκολο στη χρήση συντακτικό για την ανάγνωση και εγγραφή δεδομένων;</li>
  <li>Πρέπει να αποθηκεύσω δεδομένα σε πάνω από ένα κόμβο;</li>
  <li>Χρειάζομαι μια επιλογή στο που να αποθηκεύσω πληροφορίες (στη RAM ή στο δίσκο);</li>
</ul>

<h2 id="σχήμα">Σχήμα</h2>

<p>Καθώς το Mnesia είναι μέρος του πυρήνα της Erlang, όχι της Elixir, πρέπει να χρησιμοποιήσουμε το συντακτικό με την άνω κάτω τελεία για να έχουμε πρόσβαση σε αυτό (δείτε το μάθημα: <a href="../../advanced/erlang/">Αλληλεπίδραση με την Erlang</a>) ως εξής:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
iex&gt; :mnesia.create_schema<span class="o">([</span>node<span class="o">()])</span>

<span class="c"># ή αν προτιμάτε το στυλ της Elixir...</span>

iex&gt; <span class="nb">alias</span> :mnesia, as: Mnesia
iex&gt; Mnesia.create_schema<span class="o">([</span>node<span class="o">()])</span>
</code></pre></div></div>

<p>Για αυτό το μάθημα, θα χρησιμοποιήσουμε την τελευταία προσέγγιση όταν δουλεύουμε με το API του Mnesia.
Η <code class="highlighter-rouge">Mnesia.create_schema/1</code> αρχικοποιεί ένα άδειο σχήμα και του περνάει μια λίστα κόμβων.
Σε αυτή την περίπτωση, περνάμε τον κόμβο που είναι συσχετισμένος με τη συνεδρία μας στο IEX.</p>

<h2 id="κόμβοι">Κόμβοι</h2>

<p>Αφού τρέξετε την εντολή <code class="highlighter-rouge">Mnesia.create_schema([node()])</code> στο IEx, θα πρέπει να βλέπετε ένα φάκελο που ονομάζεται <strong>Mnesia.nonode@nohost</strong> ή παρόμοιο στον τρέχοντα φάκελο εργασίας.
Ίσως αναρωτιέστε τι σημαίνει το <strong>nonode@nohost</strong> καθώς δεν το έχουμε ξανα συναντήσει.
Για να το δούμε.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>iex <span class="nt">--help</span>
Usage: iex <span class="o">[</span>options] <span class="o">[</span>.exs file] <span class="o">[</span>data]

  <span class="nt">-v</span>                Prints version
  <span class="nt">-e</span> <span class="s2">"command"</span>      Evaluates the given <span class="nb">command</span> <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">-r</span> <span class="s2">"file"</span>         Requires the given files/patterns <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">-S</span> <span class="s2">"script"</span>       Finds and executes the given script
  <span class="nt">-pr</span> <span class="s2">"file"</span>        Requires the given files/patterns <span class="k">in </span>parallel <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">-pa</span> <span class="s2">"path"</span>        Prepends the given path to Erlang code path <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">-pz</span> <span class="s2">"path"</span>        Appends the given path to Erlang code path <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">--app</span> <span class="s2">"app"</span>       Start the given app and its dependencies <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">--erl</span> <span class="s2">"switches"</span>  Switches to be passed down to Erlang <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  <span class="nt">--name</span> <span class="s2">"name"</span>     Makes and assigns a name to the distributed node
  <span class="nt">--sname</span> <span class="s2">"name"</span>    Makes and assigns a short name to the distributed node
  <span class="nt">--cookie</span> <span class="s2">"cookie"</span> Sets a cookie <span class="k">for </span>this distributed node
  <span class="nt">--hidden</span>          Makes a hidden node
  <span class="nt">--werl</span>            Uses Erlang<span class="s1">'s Windows shell GUI (Windows only)
  --detached        Starts the Erlang VM detached from console
  --remsh "name"    Connects to a node using a remote shell
  --dot-iex "path"  Overrides default .iex.exs file and uses path instead;
                    path can be empty, then no file will be loaded

** Options marked with (*) can be given more than once
** Options given after the .exs file or -- are passed down to the executed code
** Options can be passed to the VM using ELIXIR_ERL_OPTIONS or --erl
</span></code></pre></div></div>

<p>Όταν περνάμε την επιλογή <code class="highlighter-rouge">--help</code> στο IEx από τη γραμμή εντολών, μας δίνεται μια λίστα με όλες τις διαθέσιμες επιλογές.
Μπορούμε να δούμε ότι υπάρχουν οι επιλογές <code class="highlighter-rouge">--name</code> και <code class="highlighter-rouge">--sname</code> για τον ορισμό πληροφοριών στους κόμβους.
Ένας κόμβος είναι απλά μια ενεργή εικονική μηχανή Erlang η οποία χειρίζεται τις επικοινωνίες της, τη συλλογή σκουπιδιών της, το χρονοπρογραμματισμό επεξεργασίας της, τη μνήμη της και άλλα.
Ο κόμβος ονομάζεται <strong>nonode@nohost</strong> εξ’ ορισμού.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>iex <span class="nt">--name</span> learner@elixirschool.com

Erlang/OTP 22.0 <span class="o">[</span>erts-10.5.3] <span class="o">[</span><span class="nb">source</span><span class="o">]</span> <span class="o">[</span>64-bit] <span class="o">[</span>smp:4:4] <span class="o">[</span>async-threads:10] <span class="o">[</span>hipe] <span class="o">[</span>kernel-poll:false] <span class="o">[</span>dtrace]

Interactive Elixir <span class="o">(</span>1.10.1<span class="o">)</span> - press Ctrl+C to <span class="nb">exit</span> <span class="o">(</span><span class="nb">type </span>h<span class="o">()</span> ENTER <span class="k">for </span><span class="nb">help</span><span class="o">)</span>
iex<span class="o">(</span>learner@elixirschool.com<span class="o">)&gt;</span> Node.self
:<span class="s2">"learner@elixirschool.com"</span>
</code></pre></div></div>

<p>Όπως μπορούμε να δούμε, ο κόμβος που τρέχουμε είναι ένα άτομο που ονομάζεται <code class="highlighter-rouge">:"learner@elixirschool.com"</code>.
Αν τρέχουμε ξανά την <code class="highlighter-rouge">Mnesia.create_schema([node()])</code>, θα δούμε ότι δημιούργησε έναν άλλο φάκελο που ονομάζεται <strong>Mnesia.learner@elixirschool.com</strong>.
Ο σκοπός του είναι αρκετά απλός.
Οι κόμβοι στην Erlang χρησιμοποιούνται για να συνδεθούν σε άλλους κόμβους και να μοιραστούν (και να διανέμουν) πληροφορίες και πόρους.
Αυτό δεν περιορίζεται στο ίδιο μηχάνημα και μπορεί να επικοινωνήσει μέσω LAN, μέσω του internet κ.α.</p>

<h2 id="ξεκινώντας-το-mnesia">Ξεκινώντας το Mnesia</h2>

<p>Τώρα που έχουμε κατανοήσει τα βασικά και έχουμε ρυθμίσει τη βάση δεδομένων, είμαστε σε θέση να ξεκινήσουμε το σύστημα διαχείρησης βάσης δεδομένων με την εντολή <code class="highlighter-rouge">Mnesia.start/0</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; <span class="nb">alias</span> :mnesia, as: Mnesia
iex&gt; Mnesia.create_schema<span class="o">([</span>node<span class="o">()])</span>
:ok
iex&gt; Mnesia.start<span class="o">()</span>
:ok
</code></pre></div></div>

<p>Η συνάρτηση <code class="highlighter-rouge">Mnesia.start/0</code> είναι ασύγχρονη.
Ξεκινάει την αρχικοποίηση των πινάκων που υπάρχουν ήδη και επιστρέφει το άτομο <code class="highlighter-rouge">:ok</code>.
Σε περίπτωση που πρέπει να κάνουμε κάτι στους υπάρχοντες πίνακες αμέσως αφού ξεκινήσουμε την Mnesia, πρέπει να καλέσουμε την συνάρτηση <code class="highlighter-rouge">Mnesia.wait_for_tables/2</code>.
Αυτό θα παγώσει την κλήση έως ότου οι πίνακες αρχικοποιηθούν.
Δείτε το παράδειγμα στον τομέα <a href="#data-initialization-and-migration">Αρχικοποίηση και Μεταφορά δεδομένων</a>.</p>

<p>Είναι σημαντικό να έχουμε στο μυαλό μας ότι η εκτέλεση ενός κατανεμημένου συστήματος με δύο ή περισσότερους κόμβους, η συνάρτηση <code class="highlighter-rouge">Mnesia.start/1</code> πρέπει να εκτελεστεί σε όλους τους κόμβους που λαμβάνουν μέρους.</p>

<h2 id="δημιουργία-πινάκων">Δημιουργία Πινάκων</h2>

<p>Η συνάρτηση <code class="highlighter-rouge">Mnesia.create_table/2</code> χρησιμοποιείται για τη δημιουργία πινάκων μέσα στη βάση δεδομένων μας.
Παρακάτω δημιουργούμε ένα πίνακα που ονομάζεται <code class="highlighter-rouge">Person</code> και μετά περνάμε μια λίστα λέξεων κλειδιά για να ορίσουμε το σχήμα του πίνακα.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; Mnesia.create_table<span class="o">(</span>Person, <span class="o">[</span>attributes: <span class="o">[</span>:id, :name, :job]]<span class="o">)</span>
<span class="o">{</span>:atomic, :ok<span class="o">}</span>
</code></pre></div></div>

<p>Ορίζουμε τις στήλες χρησιμοποιώντας τα άτομα <code class="highlighter-rouge">:id</code>, <code class="highlighter-rouge">:name</code>, και <code class="highlighter-rouge">:job</code>.
Το πρώτο άτομο (σε αυτή την περίπτωση το <code class="highlighter-rouge">:id</code>) είναι το πρωτεύον κλειδί.
Απαιτείται τουλάχιστον ένα ακόμα όρισμα.</p>

<p>Όταν εκτελέσουμε την <code class="highlighter-rouge">Mnesia.create_table/2</code>, θα επιστρέψει μια από τις ακόλουθες απαντήσεις:</p>

<ul>
  <li><code class="highlighter-rouge">{:atomic, :ok}</code> αν η συνάρτηση εκτελεστεί με επιτυχία</li>
  <li><code class="highlighter-rouge">{:aborted, Reason}</code> αν η συνάρτηση αποτύχει</li>
</ul>

<p>Συγκεκριμένα, αν ο πίνακας υπάρχει ήδη, ο λόγος θα είναι στη μορφή <code class="highlighter-rouge">{:already_exists, table}</code> έτσι αν προσπαθήσουμε να τον δημιουργήσουμε μια δεύτερη φορά, θα λάβουμε:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="p">[</span><span class="ss">attributes:</span> <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:job</span><span class="p">]])</span>
<span class="p">{</span><span class="ss">:aborted</span><span class="p">,</span> <span class="p">{</span><span class="ss">:already_exists</span><span class="p">,</span> <span class="no">Person</span><span class="p">}}</span>
</code></pre></div></div>

<h2 id="ο-λάθος-τρόπος">Ο Λάθος Τρόπος</h2>

<p>Πρώτα από όλα θα δούμε το λάθος τρόπο ανάγνωσης και εγγραφής σε ένα πίνακα Mnesia.
Αυτός γενικά θα πρέπει να αποφεύγεται καθώς η επιτυχία δεν είναι εγγυημένη, αλλά θα μας μάθει να είμαστε πιο άνετοι στην εργασία μας με το Mnesia.
Ας δούμε μερικές εγγραφές στον πίνακα μας <strong>Person</strong>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; Mnesia.dirty_write<span class="o">({</span>Person, 1, <span class="s2">"Seymour Skinner"</span>, <span class="s2">"Principal"</span><span class="o">})</span>
:ok

iex&gt; Mnesia.dirty_write<span class="o">({</span>Person, 2, <span class="s2">"Homer Simpson"</span>, <span class="s2">"Safety Inspector"</span><span class="o">})</span>
:ok

iex&gt; Mnesia.dirty_write<span class="o">({</span>Person, 3, <span class="s2">"Moe Szyslak"</span>, <span class="s2">"Bartender"</span><span class="o">})</span>
:ok
</code></pre></div></div>

<p>… και για να ανακτήσουμε τις εγγραφές μπορούμε να χρησιμοποιήσουμε την <code class="highlighter-rouge">Mnesia.dirty_read/1</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; Mnesia.dirty_read<span class="o">({</span>Person, 1<span class="o">})</span>
<span class="o">[{</span>Person, 1, <span class="s2">"Seymour Skinner"</span>, <span class="s2">"Principal"</span><span class="o">}]</span>

iex&gt; Mnesia.dirty_read<span class="o">({</span>Person, 2<span class="o">})</span>
<span class="o">[{</span>Person, 2, <span class="s2">"Homer Simpson"</span>, <span class="s2">"Safety Inspector"</span><span class="o">}]</span>

iex&gt; Mnesia.dirty_read<span class="o">({</span>Person, 3<span class="o">})</span>
<span class="o">[{</span>Person, 3, <span class="s2">"Moe Szyslak"</span>, <span class="s2">"Bartender"</span><span class="o">}]</span>

iex&gt; Mnesia.dirty_read<span class="o">({</span>Person, 4<span class="o">})</span>
<span class="o">[]</span>
</code></pre></div></div>

<p>Αν δοκιμάσουμε να εξετάσουμε μια εγγραφή που δεν υπάρχει η Mnesia θα ανταποκριθεί με μια άδεια λίστα.</p>

<h2 id="συναλλαγές">Συναλλαγές</h2>

<p>Παραδοσιακά χρησιμοποιούμε τις <strong>συναλλαγές</strong> για να ενσωματώσουμε τις αναγνώσεις και εγγραφές στη βάση δεδομένων μας.
Οι συναλλαγές είναι ένα σημαντικό μέρος σχεδίασης ανεκτικών σε λάθη, υψηλά κατανεμημένων συστημάτων.
Στη Mnesia, <em>η συναλλαγή είναι ένας μηχανισμός με τον οποίο μια σειρά εργασιών της βάσης δεδομένων μπορεί να εκτελεστεί σαν ένα συναρτησιακό μπλοκ</em>.
Πρώτα δημιουργούμε μια ανώνυμη συνάρτηση, σε αυτή την περίπτωση την <code class="highlighter-rouge">data_to_write</code> και τότε την περνάμε στην <code class="highlighter-rouge">Mnesia.transaction</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; data_to_write <span class="o">=</span> fn -&gt;
...&gt;   Mnesia.write<span class="o">({</span>Person, 4, <span class="s2">"Marge Simpson"</span>, <span class="s2">"home maker"</span><span class="o">})</span>
...&gt;   Mnesia.write<span class="o">({</span>Person, 5, <span class="s2">"Hans Moleman"</span>, <span class="s2">"unknown"</span><span class="o">})</span>
...&gt;   Mnesia.write<span class="o">({</span>Person, 6, <span class="s2">"Monty Burns"</span>, <span class="s2">"Businessman"</span><span class="o">})</span>
...&gt;   Mnesia.write<span class="o">({</span>Person, 7, <span class="s2">"Waylon Smithers"</span>, <span class="s2">"Executive assistant"</span><span class="o">})</span>
...&gt; end
<span class="c">#Function&lt;20.54118792/0 in :erl_eval.expr/5&gt;</span>

iex&gt; Mnesia.transaction<span class="o">(</span>data_to_write<span class="o">)</span>
<span class="o">{</span>:atomic, :ok<span class="o">}</span>
</code></pre></div></div>
<p>Βασιζόμενοι σε αυτό το μήνυμα συναλλαγής, είμαστε σε θέση να υποθέσουμε ότι έχουμε γράψει τα δεδομένα μας στον πίνακα <code class="highlighter-rouge">Person</code>.
Ας χρησιμοποιήσουμε μια συναλλαγή για να διαβάσουμε από τη βάση δεδομένων για να βεβαιωθούμε.
Θα χρησιμοποιήσουμε τη <code class="highlighter-rouge">Mnesia.read/1</code> για να διαβάσουμε από τη βάση δεδομένων, αλλά ξανά μέσα από μια ανώνυμη συνάρτηση.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iex&gt; data_to_read <span class="o">=</span> fn -&gt;
...&gt;   Mnesia.read<span class="o">({</span>Person, 6<span class="o">})</span>
...&gt; end
<span class="c">#Function&lt;20.54118792/0 in :erl_eval.expr/5&gt;</span>

iex&gt; Mnesia.transaction<span class="o">(</span>data_to_read<span class="o">)</span>
<span class="o">{</span>:atomic, <span class="o">[{</span>Person, 6, <span class="s2">"Monty Burns"</span>, <span class="s2">"Businessman"</span><span class="o">}]}</span>
</code></pre></div></div>

<p>Σημειώστε ότι αν θέλετε να αναβαθμίσετε δεδομένα, πρέπει απλά να καλέσετε την <code class="highlighter-rouge">Mnesia.write/1</code> με το ίδιο κλειδί μιας υπάρχουσας εγγραφής.
Έτσι, για να αναβαθμίσετε την εγγραφή για τον Hans, μπορείτε να κάνετε το εξής:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span>
<span class="o">...&gt;</span>   <span class="k">fn</span> <span class="o">-&gt;</span>
<span class="o">...&gt;</span>     <span class="no">Mnesia</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="no">Person</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">"Hans Moleman"</span><span class="p">,</span> <span class="s2">"Ex-Mayor"</span><span class="p">})</span>
<span class="o">...&gt;</span>   <span class="k">end</span>
<span class="o">...&gt;</span> <span class="p">)</span>
</code></pre></div></div>

<h2 id="χρήση-δεικτών">Χρήση Δεικτών</h2>

<p>Η Mnesia υποστηρίζει δείκτες σε στήλες όχι-κλειδιά και μπορούν να ερωτηθούν δεδομένα σε αυτούς τους δείκτες.
Έτσι, μπορούμε να προσθέσουμε ένα δείκτη στη στήλη <code class="highlighter-rouge">:job</code> του πίνακα <code class="highlighter-rouge">Person</code>:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">add_table_index</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:job</span><span class="p">)</span>
<span class="p">{</span><span class="ss">:atomic</span><span class="p">,</span> <span class="ss">:ok</span><span class="p">}</span>
</code></pre></div></div>

<p>Το αποτέλεσμα είναι παρόμοιο με αυτό που επιστρέφεται από την <code class="highlighter-rouge">Mnesia.create_table/2</code>:</p>

<ul>
  <li><code class="highlighter-rouge">{:atomic, :ok}</code> αν η συνάρτηση εκτελέστηκε επιτυχώς</li>
  <li><code class="highlighter-rouge">{:aborted, Reason}</code> αν η συνάρτηση απέτυχε</li>
</ul>

<p>Συγκεκριμένα, αν ο δείκτης υπάρχει ήδη, ο λόγος θα είναι της μορφής <code class="highlighter-rouge">{:already_exists, table, attribute_index}</code> έτσι αν προσπαθήσουμε να προσθέσουμε αυτό το δείκτη για δεύτερη φορά, θα πάρουμε:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">add_table_index</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:job</span><span class="p">)</span>
<span class="p">{</span><span class="ss">:aborted</span><span class="p">,</span> <span class="p">{</span><span class="ss">:already_exists</span><span class="p">,</span> <span class="no">Person</span><span class="p">,</span> <span class="mi">4</span><span class="p">}}</span>
</code></pre></div></div>

<p>Όταν ο δείκτης δημιουργηθεί επιτυχώς, μπορούμε να διαβάσουμε από αυτό και να λάβουμε μια λίστα από διευθυντές:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span>
<span class="o">...&gt;</span>   <span class="k">fn</span> <span class="o">-&gt;</span>
<span class="o">...&gt;</span>     <span class="no">Mnesia</span><span class="o">.</span><span class="n">index_read</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="s2">"Principal"</span><span class="p">,</span> <span class="ss">:job</span><span class="p">)</span>
<span class="o">...&gt;</span>   <span class="k">end</span>
<span class="o">...&gt;</span> <span class="p">)</span>
<span class="p">{</span><span class="ss">:atomic</span><span class="p">,</span> <span class="p">[{</span><span class="no">Person</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"Seymour Skinner"</span><span class="p">,</span> <span class="s2">"Principal"</span><span class="p">}]}</span>
</code></pre></div></div>

<h2 id="ταίριασμα-και-επιλογή">Ταίριασμα και επιλογή</h2>

<p>Η Mnesia υποστηρίζει πολλύπλοκα ερωτήματα για την λήψη δεδομένων από ένα πίνακα στη μορφή του ταιριάσματος και των ad-hoc συναρτήσεων ερωτημάτων.</p>

<p>Η συνάρτηση <code class="highlighter-rouge">Mnesia.match_object/1</code> επιστρέφει όλες τις εγγραφές που ταιριάζουν στο δωσμένο πρότυπο.
Αν κάποια από τις στήλες του πίνακα έχει δείκτες, μπορεί να τους χρησιμοποιήσει για να κάνει το ερώτημα πιο αποδοτικό.
Χρησιμοποιήστε το ειδικό άτομο <code class="highlighter-rouge">:_</code> για να αναγνωρίσετε στήλες που δεν παίρνουν μέρος στο ταίριασμα.</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span>
<span class="o">...&gt;</span>   <span class="k">fn</span> <span class="o">-&gt;</span>
<span class="o">...&gt;</span>     <span class="no">Mnesia</span><span class="o">.</span><span class="n">match_object</span><span class="p">({</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:_</span><span class="p">,</span> <span class="s2">"Marge Simpson"</span><span class="p">,</span> <span class="ss">:_</span><span class="p">})</span>
<span class="o">...&gt;</span>   <span class="k">end</span>
<span class="o">...&gt;</span> <span class="p">)</span>
<span class="p">{</span><span class="ss">:atomic</span><span class="p">,</span> <span class="p">[{</span><span class="no">Person</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">"Marge Simpson"</span><span class="p">,</span> <span class="s2">"home maker"</span><span class="p">}]}</span>
</code></pre></div></div>

<p>Η συνάρτηση <code class="highlighter-rouge">Mnesia/select/2</code> σας επιτρέπει να ορίσετε ένα αυτοσχέδιο ερώτημα χρησιμοποιώντας οποιονδήποτε χειριστή ή συνάρτηση στη γλώσσα Elixir (ή στην Erlang).
Ας δούμε ένα παράδειγμα το οποίο επιλέγει όλες τις εγγραφές που έχουν κλειδί μεγαλύτερο του 3:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span>
<span class="o">...&gt;</span>   <span class="k">fn</span> <span class="o">-&gt;</span>
<span class="o">...&gt;</span>     <span class="no">Mnesia</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="p">[{{</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:"$1"</span><span class="p">,</span> <span class="ss">:"$2"</span><span class="p">,</span> <span class="ss">:"$3"</span><span class="p">},</span> <span class="p">[{</span><span class="ss">:&gt;</span><span class="p">,</span> <span class="ss">:"$1"</span><span class="p">,</span> <span class="mi">3</span><span class="p">}],</span> <span class="p">[</span><span class="ss">:"$$"</span><span class="p">]}])</span>
<span class="o">...&gt;</span>   <span class="k">end</span>
<span class="o">...&gt;</span> <span class="p">)</span>
<span class="p">{</span><span class="ss">:atomic</span><span class="p">,</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="s2">"Waylon Smithers"</span><span class="p">,</span> <span class="s2">"Executive assistant"</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s2">"Marge Simpson"</span><span class="p">,</span> <span class="s2">"home maker"</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="s2">"Monty Burns"</span><span class="p">,</span> <span class="s2">"Businessman"</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s2">"Hans Moleman"</span><span class="p">,</span> <span class="s2">"unknown"</span><span class="p">]]}</span>
</code></pre></div></div>

<p>Ας το αποσυμπιέσουμε.
Το πρώτο όρισμα είναι ο πίνακας, <code class="highlighter-rouge">Person</code>, το δεύτερο όρισμα είναι της μορφής <code class="highlighter-rouge">{match, [guard], [result]}</code>:</p>

<ul>
  <li>Το <code class="highlighter-rouge">match</code> είναι το ίδιο με αυτό που θα περνούσατε στη συνάρτηση <code class="highlighter-rouge">Mnesia.match_object/1</code>. Πάντως, σημειώστε τα ειδικά άτομα <code class="highlighter-rouge">:"#$n"</code> τα οποία ορίζουν παραμέτρους θέσης που χρησιμοποιούνται από το υπόλοιπο του ερωτήματος</li>
  <li>Η λίστα <code class="highlighter-rouge">guard</code> είναι μια λίστα από τούπλες που ορίζει τι συναρτήσεις προστασίας να εφαρμόσουν, σε αυτή την περίπτωση τη προεγκατεστημένη συνάρτηση <code class="highlighter-rouge">:&gt;</code> με την πρώτη παράμετρο θέσης <code class="highlighter-rouge">:"$1"</code> και τη σταθερά <code class="highlighter-rouge">3</code> σαν ορίσματα</li>
  <li>Η λίστα <code class="highlighter-rouge">result</code> είναι η λίστα πεδίων που επιστρέφεται από το ερώτημα, στη μορφή των περαμέτρων θέσης του ειδικού ατόμου <code class="highlighter-rouge">:"$$"</code> για να αναφερθείτε σε όλα τα πεδία, έτσι θα μπορούσατε να χρησιμοποιήσετε το <code class="highlighter-rouge">[:"$1", :"$2"]</code> για να επιστρέψετε τα πρώτα δύο πεδία ή <code class="highlighter-rouge">[:"$$"]</code> για να επιστρέψετε όλα τα πεδία</li>
</ul>

<p>Για περισσότερες λεπτορμέρειες, δείτε την <a href="http://erlang.org/doc/man/mnesia.html#select-2">τεκμηρίωση Erlang Mnesia για τη συνάρτηση select/2</a>.</p>

<h2 id="αρχικοποίηση-και-μεταφορά-δεδομένων">Αρχικοποίηση και μεταφορά δεδομένων</h2>

<p>Σε κάθε λύση λογισμικού, έρχεται μια στιγμή που χρειάζεστε να αναβαθμίσετε το λογισμικό σας και να μεταφέρετε τα δεδομένα που είναι αποθηκευμένα στη βάση δεδομένων σας.
Για παράδειγμα, μπορεί να θέλουμε να προσθέσουμε μια στήλη <code class="highlighter-rouge">:age</code> στον πίνκακα μας <code class="highlighter-rouge">Person</code>  στην v2 της εφαρμογής μας.
Δεν μπορούμε να δημιουργήσουμε τον πίνακα <code class="highlighter-rouge">Person</code> εφόσον έχει δημιουργηθεί αλλά μπορούμε να τον μετατρέψουμε.
Για αυτό θα χρειαστεί να ξέρουμε πότε να τον μετατρέψουμε, το οποίο μπορούμε να κάνουμε όταν δημιουργούμε τον πίνακα.
Για να το κάνουμε αυτό, θα χρησιμοποιήσουμε την συνάρτηση <code class="highlighter-rouge">Mnesia.table_info/2</code> για να λάβουμε την τρέχουσα δομή του πίνακα και την <code class="highlighter-rouge">Mnesia.transforma_table/3</code> για να τον μεταμορφώσουμε στη νέα δομή.</p>

<p>Ο κώδικας παρακάτω το κάνει αυτό υλοποιώντας την παρακάτω λογική:</p>

<ul>
  <li>Δημιουργεί τον πίνακα με τα ορίσματα της v2: <code class="highlighter-rouge">[:id, :name, :job, :age]</code></li>
  <li>Χειρίζεται το αποτέλεσμα δημιουργίας:
    <ul>
      <li><code class="highlighter-rouge">{:atomic, :ok}</code>: αρχικοποιεί τον πίνακα με τη δημιουργία δεικτών στις <code class="highlighter-rouge">:job</code> και <code class="highlighter-rouge">:age</code></li>
      <li><code class="highlighter-rouge">{:aborted, {:already_exists, Person}}</code>: έλεγχει ποια ορίσματα υπάρχουν στον τρέχον πίνακα και δρα ανάλογα:
        <ul>
          <li>αν είναι στην λίστα v1 (<code class="highlighter-rouge">[:id, :name, :job]</code>), μετέτρεψε τον πίνακα δίνοντας σε όλους την ηλικία των 21 ετών και πρόσθεσε τον νέο δείκτη στο πεδίο <code class="highlighter-rouge">:age</code></li>
          <li>αν είναι στην λίστα v2, μην κάνεις τίποτα, είμαστε εντάξει</li>
          <li>αν είναι κάτι άλλο, τερμάτισε</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Αν κάνουμε οποιεσδήποτε ενέργειες σε υπάρχοντες πίνακες αμέσως μετά την αρχικοποίηση της Mnesia με την <code class="highlighter-rouge">Mnesia.start/0</code>, αυτοί οι πίνακες μπορεί να μην είναι ακόμα αρχικοποιημένοι και προσβάσιμοι.
Σε αυτή την περίπτωση, πρέπει να χρησιμοποιήσουμε την συνάρτηση <a href="http://erlang.org/doc/man/mnesia.html#wait_for_tables-2"><code class="highlighter-rouge">Mnesia.wait_for_tables/2</code></a>.
Αυτή θα παγώσει την τρέχουσα διεργασία έως ότου οι πίνακες αρχικοποιηθούν ή έως έρθει το timeout.</p>

<p>Η συνάρτηση <code class="highlighter-rouge">Mnesia.transform_table/3</code> δέχεται σαν ορίσματα το όνομα του πίνακα, μια συνάρτηση που μετατρέπει μια εγγραφή από την παλιά στη νέα μορφή και μια λίστα των ορισμάτων.</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="p">[</span><span class="ss">attributes:</span> <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:job</span><span class="p">,</span> <span class="ss">:age</span><span class="p">]])</span> <span class="k">do</span>
  <span class="p">{</span><span class="ss">:atomic</span><span class="p">,</span> <span class="ss">:ok</span><span class="p">}</span> <span class="o">-&gt;</span>
    <span class="no">Mnesia</span><span class="o">.</span><span class="n">add_table_index</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:job</span><span class="p">)</span>
    <span class="no">Mnesia</span><span class="o">.</span><span class="n">add_table_index</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:age</span><span class="p">)</span>
  <span class="p">{</span><span class="ss">:aborted</span><span class="p">,</span> <span class="p">{</span><span class="ss">:already_exists</span><span class="p">,</span> <span class="no">Person</span><span class="p">}}</span> <span class="o">-&gt;</span>
    <span class="k">case</span> <span class="no">Mnesia</span><span class="o">.</span><span class="n">table_info</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:attributes</span><span class="p">)</span> <span class="k">do</span>
      <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:job</span><span class="p">]</span> <span class="o">-&gt;</span>
        <span class="no">Mnesia</span><span class="o">.</span><span class="n">wait_for_tables</span><span class="p">([</span><span class="no">Person</span><span class="p">],</span> <span class="mi">5000</span><span class="p">)</span>
        <span class="no">Mnesia</span><span class="o">.</span><span class="n">transform_table</span><span class="p">(</span>
          <span class="no">Person</span><span class="p">,</span>
          <span class="k">fn</span> <span class="p">({</span><span class="no">Person</span><span class="p">,</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">job</span><span class="p">})</span> <span class="o">-&gt;</span>
            <span class="p">{</span><span class="no">Person</span><span class="p">,</span> <span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">job</span><span class="p">,</span> <span class="mi">21</span><span class="p">}</span>
          <span class="k">end</span><span class="p">,</span>
          <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:job</span><span class="p">,</span> <span class="ss">:age</span><span class="p">]</span>
          <span class="p">)</span>
        <span class="no">Mnesia</span><span class="o">.</span><span class="n">add_table_index</span><span class="p">(</span><span class="no">Person</span><span class="p">,</span> <span class="ss">:age</span><span class="p">)</span>
      <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:job</span><span class="p">,</span> <span class="ss">:age</span><span class="p">]</span> <span class="o">-&gt;</span>
        <span class="ss">:ok</span>
      <span class="n">other</span> <span class="o">-&gt;</span>
        <span class="p">{</span><span class="ss">:error</span><span class="p">,</span> <span class="n">other</span><span class="p">}</span>
    <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

    
    <blockquote class="edit-lesson">    
      Caught a mistake or want to contribute to the lesson?
      <a href="https://github.com/elixirschool/elixirschool/edit/master/gr/lessons/specifics/mnesia.md" target="_blank" rel="noopener">
        Edit this page on GitHub!
      </a>
    </blockquote>
  </div>
</section>



<section>

<div class="row">
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/gr/lessons/specifics/ets/" title="Erlang Term Storage (ETS)">← Erlang Term Storage (ETS)</a>
    </div>
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/gr/lessons/specifics/debugging/" title="Debugging">Debugging →</a>
    </div>
    
</div>
</section>




				</div>
			</div>
			<!-- Sidebar -->
  <div id="sidebar">
    <p class="toggle-theme-wrapper"><a rel="noopener" href="#toggle-theme" class="toggle-theme icon fas fa-circle-o" alt="Toggle Theme" title="Toggle Theme"></a></p>

    <div class="inner">
      
<!-- Locales Section -->
<section id="search" class="alt">
  <div id="locales">

      
        
        

        
          <a href="/en/lessons/specifics/mnesia/" title="English">en</a>
        
      
        
        

        
          <a href="/es/lessons/specifics/mnesia/" title="Español">es</a>
        
      
        
        

        
          <strong >gr</strong>
        
      
        
        

        
          <a href="/id/lessons/specifics/mnesia/" title="Bahasa Indonesia">id</a>
        
      
        
        

        
          <a href="/ko/lessons/specifics/mnesia/" >ko</a>
        
      
        
        

        
          <a href="/pl/lessons/specifics/mnesia/" >pl</a>
        
      
        
        

        
          <a href="/pt/lessons/specifics/mnesia/" >pt</a>
        
      
        
        

        
          <a href="/ru/lessons/specifics/mnesia/" title="Русский">ru</a>
        
      
        
        

        
          <a href="/th/lessons/specifics/mnesia/" title="ภาษาไทย">th</a>
        
      
        
        

        
          <a href="/vi/lessons/specifics/mnesia/" >vi</a>
        
      
        
        

        
          <a href="/zh-hans/lessons/specifics/mnesia/" >zh-hans</a>
        
      
        
        

        
          <a href="/zh-hant/lessons/specifics/mnesia/" >zh-hant</a>
        
      

  </div>
</section>


      
<!-- Menu -->
<nav id="menu">
  <span class="stack-info otp-version">Elixir 1.10.1 - Erlang/OTP 22.0 [erts-10.5.3]</span>
  <header class="major">
    <h2>Menu</h2>
    <p>Μαθήματα προγραμματισμού της γλώσσας Elixir</p>
  </header>
  <ul>
    <li>
      <a href="/gr/" class="">Home</a>
    </li>
  
    
    
    
    
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Βασικά</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/basics/basics/">1. Βασικά</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/collections/">2. Συλλογές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/enum/">3. Enum</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/pattern-matching/">4. Αντιπαραβολές Προτύπων</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/control-structures/">5. Δομές Ελέγχου</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/functions/">6. Συναρτήσεις</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/pipe-operator/">7. Τελεστής Σωλήνα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/modules/">8. Ενότητες</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/mix/">9. Mix</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/sigils/">10. Σφραγίδες</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/documentation/">11. Τεκμηρίωση</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/testing/">12. Δοκιμές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/comprehensions/">13. Ανάγνωση Λιστών</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/strings/">14. Αλφαριθμητικά</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/date-time/">15. Ημερομηνία και Ώρα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/mix-tasks/">16. Ειδικές Εργασίες Mix</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/iex-helpers/">17. Βοηθοί IEx</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Προχωρημένα</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/advanced/erlang/">1. Διαλειτουργικότητα με την Erlang</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/error-handling/">2. Διαχείριση Σφαλμάτων</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/escripts/">3. Εκτελέσιμα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/concurrency/">4. Συγχρονισμός</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/otp-concurrency/">5. Συγχρονισμός OTP</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/otp-supervisors/">6. Επιτηρητές OTP</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/metaprogramming/">8. Μεταπρογραμματισμός</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/umbrella-projects/">9. Projects Ομπρέλας</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/typespec/">10. Προδιαγραφές και τύποι</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/behaviours/">11. Συμπεριφορές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/gen-stage/">12. GenStage</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/protocols/">13. Πρωτόκολλα</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Ecto</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/ecto/basics/">1. Basics</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/ecto/changesets/">2. Σετ Αλλαγών</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/ecto/associations/">3. Συσχετισμοί</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener active">Ιδιαιτερότητες</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/specifics/plug/">1. Plug</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/eex/">2. Ένθετη Elixir (EEx)</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/ets/">3. Erlang Term Storage (ETS)</a>
              
            </li>
        
      
        
            <li>
              
              <span class="active">4. Mnesia</span>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/debugging/">5. Debugging</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Βιβλιοθήκες</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/libraries/guardian/">1. Guardian (Βασικά)</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/libraries/poolboy/">2. Poolboy</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/libraries/benchee/">3. Benchee</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    <li>
      <a href="/blog/" class="">Blog</a>
    </li>
    
    <li>
      <a href="/gr/report/" class="">Αναφορά Μετάφρασης</a>
    </li>
    
    <li>
      <a href="/contributors/" class="">Contributors</a>
    </li>
  </ul>
</nav>

      <!-- Footer -->
      <footer id="footer">
        <p class="copyright">&copy; 2021 <a target="_blank" rel="noopener" href="https://github.com/doomspork">Sean Callan</a> All rights reserved.</p>
      </footer>
    </div>
  </div>

		</div>
		<!-- Scripts -->

    <script async="" src="/assets/main-f8c201d2721dcb6d1d4f6acb0ebd2b2c192757ed29271f519513e4417e347611.js" type="text/javascript"></script>
		<!--[if lte IE 8]><script async="" src="/assets/ie/respond.min-8306093ccce666c01dab405fac0d16596a1d1cf38aa0ba919d4831261662cdbb.js" type="text/javascript"></script><script src="assets/js/ie/respond.min.js"></script><![endif]-->
	</body>
</html>
