<!DOCTYPE HTML>



<html lang="gr">
	<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta name="description" content="Μαθήματα προγραμματισμού της γλώσσας Elixir">
  <meta name="author" content="Sean Callan">

  <meta property="og:url" content="http://localhost:4000/gr/lessons/ecto/basics/">
  <meta property="og:site_name" content="ElixirSchool">
  <meta property="og:title" content="Elixir School">
  <meta property="og:locale" content="gr">
  <meta property="og:description" content="Μαθήματα προγραμματισμού της γλώσσας Elixir">
  <meta property="og:image" content="http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg">
  
  
    
    
    
    
      <link rel="alternate" hreflang="en" href="/en/lessons/ecto/basics/" />
      <link rel="alternate" hreflang="x-default" href="/en/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="es" href="/es/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="el" href="/gr/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="id" href="/id/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ja" href="/ja/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ko" href="/ko/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pl" href="/pl/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pt" href="/pt/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ru" href="/ru/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="sk" href="/sk/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="vi" href="/vi/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hans" href="/zh-hans/lessons/ecto/basics/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hant" href="/zh-hant/lessons/ecto/basics/" />
    
  

  <link rel="canonical" href="http://localhost:4000/gr/lessons/ecto/basics/">
  <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/assets/favicons/apple-touch-icon-06ad80501b5734bba0428ca0fc14fcbe45811a144914f7be78cdab3c3ea25458.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/assets/favicons/favicon-32x32-6e7b9eca57d29d185a5184e844c1372ce9da0a71f373f89b80ff11f120b01678.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/assets/favicons/favicon-16x16-789b56195138252cac40cf7f2425b6fcb4e71c3084abc8525781188781b958d3.png">
  <link rel="manifest" href="http://localhost:4000/manifest.json">
  <link rel="shortcut icon" href="http://localhost:4000/assets/favicons/favicon-8e1fdc2a44d6344b9871b3ecf53a803903891f82a602a3f59c65eda40f2b77b0.ico">
  <link rel="alternate" type="application/rss+xml" title="Elixir School" href="https://elixirschool.com/feed.xml" />
  <meta name="msapplication-config" content="http://localhost:4000/assets/favicons/browserconfig-e66282a6754e6899f9a53c6ebfe120749630242b741deb65f364abc297ccbc96.xml">
  <meta name="theme-color" content="#ffffff">

  
  
  <title>Basics &middot; Elixir School</title>
  <!-- CSS -->
  <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="stylesheet" type="text/css" href="/assets/main-07a5a32c1a26652d2bb0e43b4c7ade37f20599a76cae3c1e871d3af53cff80b2.css">
  <!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="/assets/ie9-0c07c3ea146a3dd5dce4effda97b3718824cab9c30149877c0e445edecfdee60.css"><![endif]-->
  <!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="/assets/ie8-f0c85ce6ad95a6d33929cb969a44f41a5e96ecb22de55f55d0f3c83cfc0012fc.css"><![endif]-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
  <script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("C0p07Sw9j7mZnycKDCgPOAyqJR5hhyoQ");
  analytics.page()
  }}();
  </script>
  <script type="text/javascript">
    if ("serviceWorker" in navigator) {
      if (!navigator.serviceWorker.controller) {
        navigator.serviceWorker.register("http://localhost:4000/serviceworker.js", {
          scope: "http://localhost:4000"
        })
        .then(reg => console.log("Service worker has been registered for scope: ", reg.scope))
        .catch(error => console.log("Service worker registration has failed: ", error));
      }
    }  
  </script>
</head>

	<body class="is-loading">
    <script type="text/javascript">
    var $theme = localStorage.getItem('theme');
    if ($theme === 'dark') document.body.classList.add("dark");
    </script>
		<!-- Wrapper -->
		<div id="wrapper">
			<!-- Main -->
			<div id="main">
				<div class="inner">
					<!-- Header -->
					<header id="header">
					  <a href="/gr/" class="logo"><strong>Elixir School</strong></a>
					  <ul class="icons">
  
  <li><iframe src="https://ghbtns.com/github-btn.html?user=elixirschool&repo=elixirschool&type=star&count=true" height="20" title="GitHub Stars" width="93" style="vertical-align: sub;"></iframe></li>
  <li><a target="_blank" rel="noopener" title="RSS" href="https://elixirschool.com/feed.xml" class="icon fa-rss-square"><span class="label">RSS</span></a></li>
  <li><a target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/gr/lessons/ecto/basics/&title=Basics&summary=description&source=http://localhost:4000" class="icon fa-linkedin"><span class="label">Linkedin</span></a></li>
  <li><a target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/intent/tweet?url=http://localhost:4000/gr/lessons/ecto/basics/&via=elixirschool&text=ElixirSchool: Basics&hashtags=learnelixir%2Celixirlang&" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
  <li><a target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/gr/lessons/ecto/basics/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
  <li><a target="_blank" rel="noopener" title="Pinterest" href="https://www.pinterest.com/pin/create/link/?url=http://localhost:4000/gr/lessons/ecto/basics/&media=http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg&description=ElixirSchool: Basics" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
  <li><a target="_blank" rel="noopener" title="VK" href="https://vk.com/share.php?url=http://localhost:4000/gr/lessons/ecto/basics/&title=ElixirSchool: Basics&description=Check out 'Basics' on ElixirSchool" class="icon fa-vk"><span class="label">VK</span></a></li>
  <li><a target="_blank" rel="noopener" title="Email" href="mailto:?to=&subject=ElixirSchool: Basics&body=Check out 'Basics' on ElixirSchool%0D%0A%0D%0Ahttp://localhost:4000/gr/lessons/ecto/basics/" class="icon fa-envelope"><span class="label">Email</span></a></li>
  <li><a title="Print" href="javascript:window.print()" class="icon fa-print"><span class="label">Print</span></a></li>
</ul>

					</header>
					<section id="section-page" class="ltr">
  <header class="main">
    
    <h1 class="page-title">
  <span class="version-difference-indicator version-difference-none"></span>
  Basics
</h1>
<div class="version-info version-info-none">
  <span>
    

    Αυτή η μετάφραση είναι πλήρως ενημερωμένη.
  </span>
</div>

    
  </header>
  <div class="content">
    <p>Το Ecto είναι ένα επίσημο Elixir project το οποίο παρέχει μια επικάλυψη της βάσης δεδομένων και μια ενσωματωμένη γλώσσα ερωτημάτων.
Με το Ecto είμαστε σε θέση να δημιουργούμε μετατροπές, να ορίζουμε σχήματα, να εισάγουμε και επεξεργαζόμαστε εγγραφές και να δημιουργούμε ερωτήματα προς αυτές.</p>

<h2>Πίνακας περιεχομένων</h2>
<div id="toc"></div>

<h3 id="προσαρμογείς">Προσαρμογείς</h3>

<p>Το Ecto υποστηρίζει διαφορετικές βάσεις δεδομένων μέσα από τη χρήση προσαρμογέων.
Μερικά παραδείγματα προσαρμογέων είναι:</p>

<ul>
  <li>PostgreSQL</li>
  <li>MySQL</li>
  <li>SQLite</li>
</ul>

<p>Για αυτό το μάθημα θα ρυθμίσουμε το Ecto να χρησιμοποιήσει τον προσαρμογέα PostgreSQL.</p>

<h3 id="ξεκινώντας">Ξεκινώντας</h3>

<p>Στα πλαίσια αυτού του μαθήματος θα καλύψουμε τρία μέρη του Ecto:</p>

<ul>
  <li>Αποθετήριο - παρέχει τη διεπαφή στη βάση δεδομένων μας, συμπεριλαμβανομένης της σύνδεσης</li>
  <li>Μετατροπές - ένας μηχανισμός για τη δημιουργία, μετατροπή και διαγραφή πινάκων και δεικτών</li>
  <li>Σχήματα - εξειδικευμένες δομές που αναπαριστούν εγγραφές σε πίνακα της βάσης δεδομένων</li>
</ul>

<p>Για να ξεκινήσουμε θα δημιουργήσουμε ένα νέο project με δέντρο επιτήρησης.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix new friends <span class="nt">--sup</span>
<span class="nv">$ </span><span class="nb">cd </span>friends
</code></pre></div></div>

<p>Προσθέστε τα πακέτα εξαρτήσεων ecto_sql και postgrex στο <code class="highlighter-rouge">mix.exs</code> αρχείο μας:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defp</span> <span class="n">deps</span> <span class="k">do</span>
  <span class="p">[</span>
    <span class="p">{</span><span class="ss">:ecto_sql</span><span class="p">,</span> <span class="s2">"~&gt; 3.2"</span><span class="p">},</span>
    <span class="p">{</span><span class="ss">:postgrex</span><span class="p">,</span> <span class="s2">"~&gt; 0.15"</span><span class="p">}</span>
  <span class="p">]</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Κατεβάστε τις εξαρτήσεις με τη χρήση:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix deps.get
</code></pre></div></div>

<h4 id="δημιουργία-ενός-αποθετηρίου">Δημιουργία ενός Αποθετηρίου</h4>

<p>Ένα αποθετήριο στο Ecto δείχνει σε μια πηγή δεδομένων όπως είναι μια βάση δεδομένων Postgres.
Όλες οι επικοινωνίες με τη βάση δεδομένων θα πραγματοποιούνται με τη χρήση αυτού του αποθετηρίου.</p>

<p>Ορίστε ένα αποθετήριο τρέχοντας την εντολή:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix ecto.gen.repo <span class="nt">-r</span> Friends.Repo
</code></pre></div></div>

<p>Αυτή η εντολή θα δημιουργήσει τις απαραίτητες ρυθμίσεις στο αρχείο <code class="highlighter-rouge">config/config.exs</code> για τη σύνδεση στη βάση δεδομένων, συμπεριλαμβανομένου του προσαρμογέα που θα χρησιμοποιηθεί.
Αυτές είναι οι ρυθμίσεις για την εφαρμογή μας <code class="highlighter-rouge">Friends</code>:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">config</span> <span class="ss">:friends</span><span class="p">,</span> <span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span><span class="p">,</span>
  <span class="ss">database:</span> <span class="s2">"friends_repo"</span><span class="p">,</span>
  <span class="ss">username:</span> <span class="s2">"postgres"</span><span class="p">,</span>
  <span class="ss">password:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="ss">hostname:</span> <span class="s2">"localhost"</span>
</code></pre></div></div>

<p>Οι παραπάνω γραμμές ορίζουν πως το Ecto θα συνδεθεί στη βάση δεδομένων.
Μπορεί να χρειαστεί να ρυθμίσετε τη βάση δεδομένων σας με τα αντίστοιχα διακριτικά.
Επίσης, δημιουργεί μια ενότητα <code class="highlighter-rouge">Friends.Repo</code> στο αρχείο <code class="highlighter-rouge">lib/friends/repo.ex</code>.</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="no">Ecto</span><span class="o">.</span><span class="no">Repo</span><span class="p">,</span> 
    <span class="ss">otp_app:</span> <span class="ss">:friends</span><span class="p">,</span>
    <span class="ss">adapter:</span> <span class="no">Ecto</span><span class="o">.</span><span class="no">Adapters</span><span class="o">.</span><span class="no">Postgres</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Θα χρησιμοποιήσουμε την ενότητα <code class="highlighter-rouge">Friends.Repo</code> για να στέλνουμε ερωτήματα στη βάση δεδομένων.
Επίσης λέμε σε αυτή την ενότητα να βρει τις πληροφορίες ρύθμισης στην εφαρμογή Elixir <code class="highlighter-rouge">:friends</code> και ότι επιλέγουμε τον προσαρμογέα <code class="highlighter-rouge">Ecto.Adapters.Postgres</code>.</p>

<p>Στη συνέχεια, θα ρυθμίσουμε την <code class="highlighter-rouge">Friends.Repo</code> σαν επιτηρητή μέσα στο δέντρο επιτήρησης της εφαρμογής μας στο <code class="highlighter-rouge">lib/friends/application.ex</code>.
Αυτό θα ξεκινήσει τη διεργασία Ecto όταν ξεκινάει η εφαρμογή μας.</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="n">start</span><span class="p">(</span><span class="n">_type</span><span class="p">,</span> <span class="n">_args</span><span class="p">)</span> <span class="k">do</span>
    <span class="c1"># List all child processes to be supervised</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
      <span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="o">...</span>
</code></pre></div></div>

<p>Μετά από αυτό θα χρειαστούμε την παρακάτω γραμμή στο αρχείο <code class="highlighter-rouge">config/config.exs</code>:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">config</span> <span class="ss">:friends</span><span class="p">,</span> <span class="ss">ecto_repos:</span> <span class="p">[</span><span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span><span class="p">]</span>
</code></pre></div></div>

<p>Αυτό θα επιτρέψει στην εφαρμογή μας να τρέξει εντολές ecto από τη γραμμή εντολών.</p>

<p>Μόλις τελειώσαμε τη ρύθμιση του αποθετηρίου μας!
Τώρα μπορούμε να δημιουργήσουμε τη βάση δεδομένων μέσα στην Postgres με αυτή την εντολή:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix ecto.create
</code></pre></div></div>

<p>Το Ecto θα χρησιμοποιήσει τις πληροφορίες στο αρχείο <code class="highlighter-rouge">config/config.exs</code> για να προσδιορίσει πως να συνδεθεί στην Postgres και τι όνομα να δώσει στη βάση δεδομένων.</p>

<p>Αν δείτε σφάλματα, βεβαιωθείτε ότι οι πληροφορίες ρύθμισης είναι σωστές και ότι η postgres διεργασία στο σύστημά σας τρέχει.</p>

<h3 id="μετατροπές">Μετατροπές</h3>

<p>Για να δημιουργήσετε και να αλλάξετε πίνακες στη βάση δεδομένων, το Ecto μας παρέχει τις μετατροπές.
Κάθε μετατροπή περιγράφει ένα σύνολο δράσεων που θα γίνουν στη βάση δεδομένων μας, όπως ποιον πίνακα να δημιουργήσει ή να αλλάξει.</p>

<p>Από τη στιγμή που η βάση δεδομένων μας δεν έχει πίνακες ακόμα, θα χρειαστούμε μια μετατροπή για να προσθέσουμε έναν.
Η συνθήκη στο Ecto είναι να ονοματίζουμε τους πίνακές μας στον πλυθηντικό.
Για την εφαρμογή μας, αν θέλουμε να εκφράσουμε μια οντότητα <code class="highlighter-rouge">person</code> στη βάση δεδομένων, θα χρειαστούμε ένα πίνακα <code class="highlighter-rouge">people</code>.</p>

<p>Ο καλύτερος τρόπος να δημιουργήσουμε μετατροπές είναι η εργασία mix <code class="highlighter-rouge">ecto.gen.migration &lt;όνομα μετατροπής&gt;</code>, έτσι στην περίπτωσή μας θα χρησιμοποιήσουμε:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix ecto.gen.migration create_people
</code></pre></div></div>

<p>Αυτή η εντολή θα δημιουργήσει ένα νέο αρχείο στο φάκελο <code class="highlighter-rouge">priv/repo/migrations</code> που θα περιέχει την χρονική σήμανση στο όνομα του.
Αν περιηγηθούμε στο φάκελο και ανοίξουμε τη μετατροπή θα πρέπει να δούμε κάτι σαν αυτό:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span><span class="o">.</span><span class="no">Migrations</span><span class="o">.</span><span class="no">CreatePeople</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="no">Ecto</span><span class="o">.</span><span class="no">Migration</span>

  <span class="k">def</span> <span class="n">change</span> <span class="k">do</span>

  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Ας ξεκινήσουμε αλλάζοντας τη συνάρτηση <code class="highlighter-rouge">change/0</code> για να δημιουργήσουμε ένα νέο πίνακα <code class="highlighter-rouge">people</code> με τα πεδία <code class="highlighter-rouge">name</code> και <code class="highlighter-rouge">age</code>:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Friends</span><span class="o">.</span><span class="no">Repo</span><span class="o">.</span><span class="no">Migrations</span><span class="o">.</span><span class="no">CreatePeople</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="no">Ecto</span><span class="o">.</span><span class="no">Migration</span>

  <span class="k">def</span> <span class="n">change</span> <span class="k">do</span>
    <span class="n">create</span> <span class="n">table</span><span class="p">(</span><span class="ss">:people</span><span class="p">)</span> <span class="k">do</span>
      <span class="n">add</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:string</span><span class="p">,</span> <span class="ss">null:</span> <span class="no">false</span>
      <span class="n">add</span> <span class="ss">:age</span><span class="p">,</span> <span class="ss">:integer</span><span class="p">,</span> <span class="ss">default:</span> <span class="mi">0</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Όπως μπορείτε να δείτε ορίσαμε επίσης τους τύπους δεδομένων των πεδίων.
Επιπρόσθετα, συμπεριλάβαμε τις επιλογές <code class="highlighter-rouge">null: false</code> και <code class="highlighter-rouge">default: 0</code>.</p>

<p>Μεταβείτε στο τερματικό και τρέξτε τη μετατροπή:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mix ecto.migrate
</code></pre></div></div>

<h3 id="σχήματα">Σχήματα</h3>

<p>Τώρα που δημιουργήσαμε τον αρχικό πίνακα μας πρέπει να πούμε στο Ecto περισσότερα για αυτόν, μέρος του οποίου γίνεται μέσα από τα σχήματα.
Ένα σχήμα είναι μια ενότητα που ορίζει αντιστοιχίσεις στα πεδία του υποκείμενου πίνακα στη βάση δεδομένων.</p>

<p>Παρόλο που το Ecto προτιμά τον πλυθηντικό στα ονόματα πινάκων, το σχήμα τυπικά είναι στον ενικό, έτσι θα δημιουργήσουμε ένα σχήμα <code class="highlighter-rouge">Person</code> το οποίο θα συντροφεύει τον πίνακά μας.</p>

<p>Ας δημιουργήσουμε το σχήμα μας στο <code class="highlighter-rouge">lib/friends/person.ex</code>:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Friends</span><span class="o">.</span><span class="no">Person</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="no">Ecto</span><span class="o">.</span><span class="no">Schema</span>

  <span class="n">schema</span> <span class="s2">"people"</span> <span class="k">do</span>
    <span class="n">field</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:string</span>
    <span class="n">field</span> <span class="ss">:age</span><span class="p">,</span> <span class="ss">:integer</span><span class="p">,</span> <span class="ss">default:</span> <span class="mi">0</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Εδώ μπορούμε να δούμε ότι η ενότητα <code class="highlighter-rouge">Friends.Person</code> λέει στο Ecto ότι αυτό το σχήμα αναφέρεται στον πίνακα <code class="highlighter-rouge">people</code> και ότι έχει δύο στήλες: <code class="highlighter-rouge">name</code>, το οποίο είναι αλφαριθμητικό και <code class="highlighter-rouge">age</code>, το οποίο είναι ακέραιος με προκαθορισμένη τιμή το <code class="highlighter-rouge">0</code>.</p>

<p>Ας ρίξουμε μια ματιά στο σχήμα μας ανοίγοντας το στο <code class="highlighter-rouge">iex -S mix</code> και δημιουργώντας ένα νέο άτομο:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{}</span>
<span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">age:</span> <span class="mi">0</span><span class="p">,</span> <span class="ss">name:</span> <span class="no">nil</span><span class="p">}</span>
</code></pre></div></div>

<p>Όπως θα περιμέναμε παίρνουμε μια δομή <code class="highlighter-rouge">Person</code> με την προκαθορισμένη τιμή εφαρμοσμένη στο πεδίο <code class="highlighter-rouge">age</code>.
Τώρα ας δημιουργήσουμε ένα “πραγματικό” άτομο:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">name:</span> <span class="s2">"Tom"</span><span class="p">,</span> <span class="ss">age:</span> <span class="mi">11</span><span class="p">}</span>
<span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">age:</span> <span class="mi">11</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Tom"</span><span class="p">}</span>
</code></pre></div></div>

<p>Από τη στιγμή που τα σχήματα είναι απλά δομές, μπορούμε να αλληλεπιδράσουμε με τα δεδομένα μας όπως έχουμε συνηθίσει:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
<span class="s2">"Tom"</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="ss">:name</span><span class="p">)</span>
<span class="s2">"Tom"</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">%{</span><span class="ss">name:</span> <span class="n">name</span><span class="p">}</span> <span class="o">=</span> <span class="n">person</span>
<span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">age:</span> <span class="mi">11</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Tom"</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">name</span>
<span class="s2">"Tom"</span>
</code></pre></div></div>

<p>Όμοια, μπορούμε να αναβαθμίσουμε τα σχήματά μας όπως θα κάναμε με οποιοδήποτε άλλο χάρτη ή δομή στην Elixir:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">%{</span><span class="n">person</span> <span class="o">|</span> <span class="ss">age:</span> <span class="mi">18</span><span class="p">}</span>
<span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">age:</span> <span class="mi">18</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Tom"</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Map</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="s2">"Jerry"</span><span class="p">)</span>
<span class="p">%</span><span class="no">Friends</span><span class="o">.</span><span class="no">Person</span><span class="p">{</span><span class="ss">age:</span> <span class="mi">18</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Jerry"</span><span class="p">}</span>
</code></pre></div></div>

<p>Στο επόμενο μάθημά μας για τα Σετ Αλλαγών, θα δούμε πως να επιβεβαιώσουμε τις αλλαγές δεδομένων μας και τελικά πως να τις οριστικοποιήσουμε στη βάση δεδομένων μας.</p>

    
    <blockquote class="edit-lesson">    
      Caught a mistake or want to contribute to the lesson?
      <a href="https://github.com/elixirschool/elixirschool/edit/master/gr/lessons/ecto/basics.md" target="_blank" rel="noopener">
        Edit this page on GitHub!
      </a>
    </blockquote>
  </div>
</section>



<section>

<div class="row">
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/gr/lessons/advanced/protocols/" title="Πρωτόκολλα">← Πρωτόκολλα</a>
    </div>
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/gr/lessons/ecto/changesets/" title="Σετ Αλλαγών">Σετ Αλλαγών →</a>
    </div>
    
</div>
</section>




				</div>
			</div>
			<!-- Sidebar -->
  <div id="sidebar">
    <p class="toggle-theme-wrapper"><a rel="noopener" href="#toggle-theme" class="toggle-theme icon fas fa-circle-o" alt="Toggle Theme" title="Toggle Theme"></a></p>

    <div class="inner">
      
<!-- Locales Section -->
<section id="search" class="alt">
  <div id="locales">

      
        
        

        
          <a href="/en/lessons/ecto/basics/" title="English">en</a>
        
      
        
        

        
          <a href="/es/lessons/ecto/basics/" title="Español">es</a>
        
      
        
        

        
          <strong >gr</strong>
        
      
        
        

        
          <a href="/id/lessons/ecto/basics/" title="Bahasa Indonesia">id</a>
        
      
        
        

        
          <a href="/ja/lessons/ecto/basics/" title="日本語">ja</a>
        
      
        
        

        
          <a href="/ko/lessons/ecto/basics/" >ko</a>
        
      
        
        

        
          <a href="/pl/lessons/ecto/basics/" >pl</a>
        
      
        
        

        
          <a href="/pt/lessons/ecto/basics/" >pt</a>
        
      
        
        

        
          <a href="/ru/lessons/ecto/basics/" title="Русский">ru</a>
        
      
        
        

        
          <a href="/sk/lessons/ecto/basics/" >sk</a>
        
      
        
        

        
          <a href="/vi/lessons/ecto/basics/" >vi</a>
        
      
        
        

        
          <a href="/zh-hans/lessons/ecto/basics/" >zh-hans</a>
        
      
        
        

        
          <a href="/zh-hant/lessons/ecto/basics/" >zh-hant</a>
        
      

  </div>
</section>


      
<!-- Menu -->
<nav id="menu">
  <span class="stack-info otp-version">Elixir 1.10.1 - Erlang/OTP 22.0 [erts-10.5.3]</span>
  <header class="major">
    <h2>Menu</h2>
    <p>Μαθήματα προγραμματισμού της γλώσσας Elixir</p>
  </header>
  <ul>
    <li>
      <a href="/gr/" class="">Home</a>
    </li>
  
    
    
    
    
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Βασικά</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/basics/basics/">1. Βασικά</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/collections/">2. Συλλογές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/enum/">3. Enum</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/pattern-matching/">4. Αντιπαραβολές Προτύπων</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/control-structures/">5. Δομές Ελέγχου</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/functions/">6. Συναρτήσεις</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/pipe-operator/">7. Τελεστής Σωλήνα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/modules/">8. Ενότητες</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/mix/">9. Mix</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/sigils/">10. Σφραγίδες</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/documentation/">11. Τεκμηρίωση</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/testing/">12. Δοκιμές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/comprehensions/">13. Ανάγνωση Λιστών</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/strings/">14. Αλφαριθμητικά</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/date-time/">15. Ημερομηνία και Ώρα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/mix-tasks/">16. Ειδικές Εργασίες Mix</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/basics/iex-helpers/">17. Βοηθοί IEx</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Προχωρημένα</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/advanced/erlang/">1. Διαλειτουργικότητα με την Erlang</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/error-handling/">2. Διαχείριση Σφαλμάτων</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/escripts/">3. Εκτελέσιμα</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/concurrency/">4. Συγχρονισμός</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/otp-concurrency/">5. Συγχρονισμός OTP</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/otp-supervisors/">6. Επιτηρητές OTP</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/metaprogramming/">8. Μεταπρογραμματισμός</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/umbrella-projects/">9. Projects Ομπρέλας</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/typespec/">10. Προδιαγραφές και τύποι</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/behaviours/">11. Συμπεριφορές</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/gen-stage/">12. GenStage</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/advanced/protocols/">13. Πρωτόκολλα</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener active">Ecto</span>
          <ul>
        
            <li>
              
              <span class="active">1. Basics</span>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/ecto/changesets/">2. Σετ Αλλαγών</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/ecto/associations/">3. Συσχετισμοί</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Ιδιαιτερότητες</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/specifics/plug/">1. Plug</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/eex/">2. Ένθετη Elixir (EEx)</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/ets/">3. Erlang Term Storage (ETS)</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/mnesia/">4. Mnesia</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/specifics/debugging/">5. Debugging</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener">Βιβλιοθήκες</span>
          <ul>
        
            <li>
              
              <a href="/gr/lessons/libraries/guardian/">1. Guardian (Βασικά)</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/libraries/poolboy/">2. Poolboy</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/gr/lessons/libraries/benchee/">3. Benchee</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    <li>
      <a href="/blog/" class="">Blog</a>
    </li>
    
    <li>
      <a href="/gr/report/" class="">Αναφορά Μετάφρασης</a>
    </li>
    
    <li>
      <a href="/contributors/" class="">Contributors</a>
    </li>
  </ul>
</nav>

      <!-- Footer -->
      <footer id="footer">
        <p class="copyright">&copy; 2021 <a target="_blank" rel="noopener" href="https://github.com/doomspork">Sean Callan</a> All rights reserved.</p>
      </footer>
    </div>
  </div>

		</div>
		<!-- Scripts -->

    <script async="" src="/assets/main-f8c201d2721dcb6d1d4f6acb0ebd2b2c192757ed29271f519513e4417e347611.js" type="text/javascript"></script>
		<!--[if lte IE 8]><script async="" src="/assets/ie/respond.min-8306093ccce666c01dab405fac0d16596a1d1cf38aa0ba919d4831261662cdbb.js" type="text/javascript"></script><script src="assets/js/ie/respond.min.js"></script><![endif]-->
	</body>
</html>
