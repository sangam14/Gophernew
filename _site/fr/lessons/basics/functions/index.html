<!DOCTYPE HTML>



<html lang="fr">
	<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta name="description" content="La première destination pour apprendre et maîtriser Elixir.">
  <meta name="author" content="Sean Callan">

  <meta property="og:url" content="http://localhost:4000/fr/lessons/basics/functions/">
  <meta property="og:site_name" content="ElixirSchool">
  <meta property="og:title" content="Elixir School">
  <meta property="og:locale" content="fr">
  <meta property="og:description" content="La première destination pour apprendre et maîtriser Elixir.">
  <meta property="og:image" content="http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg">
  
  
    
    
    
    
      <link rel="alternate" hreflang="bg" href="/bg/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="bn" href="/bn/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="de" href="/de/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="en" href="/en/lessons/basics/functions/" />
      <link rel="alternate" hreflang="x-default" href="/en/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="es" href="/es/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="fr" href="/fr/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="el" href="/gr/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="id" href="/id/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="it" href="/it/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ja" href="/ja/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ko" href="/ko/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ms" href="/ms/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pl" href="/pl/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="pt" href="/pt/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ru" href="/ru/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="sk" href="/sk/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="ta" href="/ta/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="th" href="/th/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="tr" href="/tr/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="uk" href="/uk/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="vi" href="/vi/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hans" href="/zh-hans/lessons/basics/functions/" />
    
  
    
    
    
    
      <link rel="alternate" hreflang="zh-hant" href="/zh-hant/lessons/basics/functions/" />
    
  

  <link rel="canonical" href="http://localhost:4000/fr/lessons/basics/functions/">
  <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/assets/favicons/apple-touch-icon-06ad80501b5734bba0428ca0fc14fcbe45811a144914f7be78cdab3c3ea25458.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/assets/favicons/favicon-32x32-6e7b9eca57d29d185a5184e844c1372ce9da0a71f373f89b80ff11f120b01678.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/assets/favicons/favicon-16x16-789b56195138252cac40cf7f2425b6fcb4e71c3084abc8525781188781b958d3.png">
  <link rel="manifest" href="http://localhost:4000/manifest.json">
  <link rel="shortcut icon" href="http://localhost:4000/assets/favicons/favicon-8e1fdc2a44d6344b9871b3ecf53a803903891f82a602a3f59c65eda40f2b77b0.ico">
  <link rel="alternate" type="application/rss+xml" title="Elixir School" href="https://elixirschool.com/feed.xml" />
  <meta name="msapplication-config" content="http://localhost:4000/assets/favicons/browserconfig-e66282a6754e6899f9a53c6ebfe120749630242b741deb65f364abc297ccbc96.xml">
  <meta name="theme-color" content="#ffffff">

  
  
  <title>Fonctions &middot; Elixir School</title>
  <!-- CSS -->
  <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="stylesheet" type="text/css" href="/assets/main-07a5a32c1a26652d2bb0e43b4c7ade37f20599a76cae3c1e871d3af53cff80b2.css">
  <!--[if lte IE 9]><link rel="stylesheet" type="text/css" href="/assets/ie9-0c07c3ea146a3dd5dce4effda97b3718824cab9c30149877c0e445edecfdee60.css"><![endif]-->
  <!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="/assets/ie8-f0c85ce6ad95a6d33929cb969a44f41a5e96ecb22de55f55d0f3c83cfc0012fc.css"><![endif]-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
  <script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("C0p07Sw9j7mZnycKDCgPOAyqJR5hhyoQ");
  analytics.page()
  }}();
  </script>
  <script type="text/javascript">
    if ("serviceWorker" in navigator) {
      if (!navigator.serviceWorker.controller) {
        navigator.serviceWorker.register("http://localhost:4000/serviceworker.js", {
          scope: "http://localhost:4000"
        })
        .then(reg => console.log("Service worker has been registered for scope: ", reg.scope))
        .catch(error => console.log("Service worker registration has failed: ", error));
      }
    }  
  </script>
</head>

	<body class="is-loading">
    <script type="text/javascript">
    var $theme = localStorage.getItem('theme');
    if ($theme === 'dark') document.body.classList.add("dark");
    </script>
		<!-- Wrapper -->
		<div id="wrapper">
			<!-- Main -->
			<div id="main">
				<div class="inner">
					<!-- Header -->
					<header id="header">
					  <a href="/fr/" class="logo"><strong>Elixir School</strong></a>
					  <ul class="icons">
  
  <li><iframe src="https://ghbtns.com/github-btn.html?user=elixirschool&repo=elixirschool&type=star&count=true" height="20" title="GitHub Stars" width="93" style="vertical-align: sub;"></iframe></li>
  <li><a target="_blank" rel="noopener" title="RSS" href="https://elixirschool.com/feed.xml" class="icon fa-rss-square"><span class="label">RSS</span></a></li>
  <li><a target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/fr/lessons/basics/functions/&title=Fonctions&summary=description&source=http://localhost:4000" class="icon fa-linkedin"><span class="label">Linkedin</span></a></li>
  <li><a target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/intent/tweet?url=http://localhost:4000/fr/lessons/basics/functions/&via=elixirschool&text=ElixirSchool: Fonctions&hashtags=learnelixir%2Celixirlang&" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
  <li><a target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/fr/lessons/basics/functions/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
  <li><a target="_blank" rel="noopener" title="Pinterest" href="https://www.pinterest.com/pin/create/link/?url=http://localhost:4000/fr/lessons/basics/functions/&media=http://localhost:4000/assets/og_image-fad975b316dea5dc361d199bdfaa076006da49a0a3296f799aa7217b4c8b0cbe.jpg&description=ElixirSchool: Fonctions" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
  <li><a target="_blank" rel="noopener" title="VK" href="https://vk.com/share.php?url=http://localhost:4000/fr/lessons/basics/functions/&title=ElixirSchool: Fonctions&description=Check out 'Fonctions' on ElixirSchool" class="icon fa-vk"><span class="label">VK</span></a></li>
  <li><a target="_blank" rel="noopener" title="Email" href="mailto:?to=&subject=ElixirSchool: Fonctions&body=Check out 'Fonctions' on ElixirSchool%0D%0A%0D%0Ahttp://localhost:4000/fr/lessons/basics/functions/" class="icon fa-envelope"><span class="label">Email</span></a></li>
  <li><a title="Print" href="javascript:window.print()" class="icon fa-print"><span class="label">Print</span></a></li>
</ul>

					</header>
					<section id="section-page" class="ltr">
  <header class="main">
    
    <h1 class="page-title">
  <span class="version-difference-indicator version-difference-none"></span>
  Fonctions
</h1>
<div class="version-info version-info-none">
  <span>
    

    Cette traduction est à jour.
  </span>
</div>

    
  </header>
  <div class="content">
    <p>En Elixir, comme dans tous les langages fonctionnels, les fonctions sont des citoyens de premier ordre.
Nous verrons les différents types de fonctions en Elixir, ce qui les rend différentes et comment les utiliser.</p>

<h2>Table des matières</h2>
<div id="toc"></div>

<h2 id="fonctions-anonymes">Fonctions anonymes</h2>

<p>Tout comme l’appellation le sous-entend, les fonctions anonymes n’ont pas de nom.
Comme nous l’avons vu dans la leçon <code class="highlighter-rouge">Enum</code>, elles sont fréquemment passées à d’autres fonctions.
Pour définir une fonction anonyme en Elixir, nous avons besoin des mot-clés <code class="highlighter-rouge">fn</code> et <code class="highlighter-rouge">end</code>, à l’intérieur desquels nous pouvons définir n’importe quel nombre de paramètres et de corps de fonction, séparés par <code class="highlighter-rouge">-&gt;</code>.</p>

<p>Jetons un coup d’œil à un exemple basique:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">sum</span> <span class="o">=</span> <span class="k">fn</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="k">end</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">5</span>
</code></pre></div></div>

<h3 id="le-raccourci-">Le raccourci ‘&amp;’</h3>

<p>Utiliser des fonctions anonymes est quelque chose de tellement courant en Elixir qu’il y a un raccourci pour le faire :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">sum</span> <span class="o">=</span> <span class="o">&amp;</span><span class="p">(</span><span class="nv">&amp;1</span> <span class="o">+</span> <span class="nv">&amp;2</span><span class="p">)</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">5</span>
</code></pre></div></div>

<p>Comme vous l’avez peut-être déjà deviné, dans la version raccourcie nos paramètres sont disponibles en tant que <code class="highlighter-rouge">&amp;1</code>, <code class="highlighter-rouge">&amp;2</code>, <code class="highlighter-rouge">&amp;3</code>, etc.</p>

<h2 id="pattern-matching">Pattern matching</h2>

<p>Le <em>pattern matching</em> (ou <em>Filtrage par motif</em> en français) en Elixir ne se limite pas juste aux variables. Il peut être appliqué également aux signatures de
fonctions, comme nous allons le voir dans cette section.</p>

<p>Elixir utilise le <em>pattern matching</em> pour identifier le groupe de paramètres correspondant, et appelle le corps de fonction correspondant :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">handle_result</span> <span class="o">=</span> <span class="k">fn</span>
<span class="o">...&gt;</span>   <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">result</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"Handling result..."</span>
<span class="o">...&gt;</span>   <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">_</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"This would be never run as previous will be matched beforehand."</span>
<span class="o">...&gt;</span>   <span class="p">{</span><span class="ss">:error</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"An error has occurred!"</span>
<span class="o">...&gt;</span> <span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="n">some_result</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">handle_result</span><span class="o">.</span><span class="p">({</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">some_result</span><span class="p">})</span>
<span class="no">Handling</span> <span class="n">result</span><span class="o">...</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="n">handle_result</span><span class="o">.</span><span class="p">({</span><span class="ss">:error</span><span class="p">})</span>
<span class="no">An</span> <span class="n">error</span> <span class="n">has</span> <span class="n">occurred!</span>
</code></pre></div></div>

<h2 id="fonctions-nommées">Fonctions nommées</h2>

<p>Nous pouvons définir des fonctions nommées afin de  pouvoir les appeler facilement plus tard.
Ces fonctions nommées sont définies avec le mot-clé <code class="highlighter-rouge">def</code> au sein d’un module.
Nous en apprendrons plus au sujet des Modules dans les prochaines leçons, mais pour l’instant, concentrons-nous seulement sur les fonctions nommées.</p>

<p>Les fonctions définies au sein d’un module sont utilisables par les autres modules.
C’est un élément de langage particulièrement utile en Elixir.</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">do</span>
    <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Sean"</span><span class="p">)</span>
<span class="s2">"Hello, Sean"</span>
</code></pre></div></div>

<p>Si nos corps de fonction ne s’étendent que sur une ligne, nous pouvons les raccourcir encore plus avec le mot-clé <code class="highlighter-rouge">do:</code> :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Armés de notre connaissance du <em>pattern matching</em>, explorons maintenant la récursion avec les fonctions nommés :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Length</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">of</span><span class="p">([]),</span> <span class="k">do</span><span class="p">:</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="n">of</span><span class="p">([</span><span class="n">_</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]),</span> <span class="k">do</span><span class="p">:</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">of</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Length</span><span class="o">.</span><span class="n">of</span> <span class="p">[]</span>
<span class="mi">0</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Length</span><span class="o">.</span><span class="n">of</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="mi">3</span>
</code></pre></div></div>

<h3 id="nommage-de-fonctions-et-arité">Nommage de Fonctions et Arité</h3>

<p>Nous avons mentionné précédemment que les fonctions sont nommées par la combinaison de leur nom donné et de leur arité (nombre d’arguments). 
Ce qui signifie que l’on peut par exemple faire ceci:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter2</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, anonymous person!"</span>   <span class="c1"># hello/0</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>        <span class="c1"># hello/1</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name1</span><span class="p">,</span> <span class="n">name2</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, </span><span class="si">#{</span><span class="n">name1</span><span class="si">}</span><span class="s2"> and </span><span class="si">#{</span><span class="n">name2</span><span class="si">}</span><span class="s2">"</span>
                                                <span class="c1"># hello/2</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">()</span>
<span class="s2">"Hello, anonymous person!"</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Fred"</span><span class="p">)</span>
<span class="s2">"Hello, Fred"</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Fred"</span><span class="p">,</span> <span class="s2">"Jane"</span><span class="p">)</span>
<span class="s2">"Hello, Fred and Jane"</span>
</code></pre></div></div>

<p>Nous avons listés les noms des fonctions dans l’exemple ci-dessus dans les commentaires.
La première implémentation ne prend pas d’arguments, donc son nom sera <code class="highlighter-rouge">hello/0</code>; la seconde prend un argument et donc sera nommée <code class="highlighter-rouge">hello/1</code>, et ainsi de suite. Contrairement à la surcharge de fonctions dans d’autres langages, ces fonctions sont considérées <em>différentes</em> les unes des autres.
(Le <em>pattern matching</em>, que l’on vient de décrire, ne s’applique que quand de multiples définitions sont données pour le <em>même</em> nombre d’arguments.)</p>

<h3 id="fonctions-et-pattern-matching">Fonctions et Pattern Matching</h3>

<p>Dans les coulisses du langage, les fonctions réalisent un <em>pattern matching</em> sur les arguments avec lesquels elles sont appelées.</p>

<p>Imaginons que nous avons besoin d’une fonction qui prend en paramètre un tableau associtif (une <em>map</em>) mais nous sommes juste intéressés par une clé spécifique.
Nous sommes capables d’utiliser le <em>pattern matching</em> sur la présence de cette clé de la manière suivante :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter1</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">})</span> <span class="k">do</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">person_name</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Maintenant imaginons que nous avons un tableau associatif décrivant une personne nommé Fred :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">fred</span> <span class="o">=</span> <span class="p">%{</span>
<span class="o">...&gt;</span> <span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">,</span>
<span class="o">...&gt;</span> <span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span>
<span class="o">...&gt;</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span>
<span class="o">...&gt;</span> <span class="p">}</span>
</code></pre></div></div>

<p>Ci-après nous avons le résultat quand nous appelons  <code class="highlighter-rouge">Greeter1.hello/1</code> avec le tableau associatif <code class="highlighter-rouge">fred</code> :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># call with entire map</span>
<span class="o">...&gt;</span> <span class="no">Greeter1</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="n">fred</span><span class="p">)</span>
<span class="s2">"Hello, Fred"</span>
</code></pre></div></div>

<p>Que se passe-t-il si nous appelons la fonction avec un tableau associatif qui <em>ne contient pas</em> la clé <code class="highlighter-rouge">:name</code> ?</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># call without the key we need returns an error</span>
<span class="o">...&gt;</span> <span class="no">Greeter1</span><span class="o">.</span><span class="n">hello</span><span class="p">(%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">})</span>
<span class="o">**</span> <span class="p">(</span><span class="no">FunctionClauseError</span><span class="p">)</span> <span class="n">no</span> <span class="n">function</span> <span class="n">clause</span> <span class="n">matching</span> <span class="ow">in</span> <span class="no">Greeter1</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span>

    <span class="no">The</span> <span class="n">following</span> <span class="n">arguments</span> <span class="n">were</span> <span class="n">given</span> <span class="n">to</span> <span class="no">Greeter1</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span>

        <span class="c1"># 1</span>
        <span class="p">%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">}</span>

    <span class="ss">iex:</span><span class="mi">12</span><span class="p">:</span> <span class="no">Greeter1</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span>

</code></pre></div></div>

<p>La raison de ce comportement est qu’Elixir réalise le <em>pattern matching</em> des arguments avec lesquelles une fonction est appelée par rapport à l’arité avec laquelle la fonction est définie.</p>

<p>Réfléchissons ce à quoi ressemblent les données quand ils arrivent dans <code class="highlighter-rouge">Greeter1.hello/1</code> :</p>

<pre><code class="language-Elixir"># incoming map
iex&gt; fred = %{
...&gt; name: "Fred",
...&gt; age: "95",
...&gt; favorite_color: "Taupe"
...&gt; }
</code></pre>

<p><code class="highlighter-rouge">Greeter1.hello/1</code> attend un argument similaire à :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">}</span>
</code></pre></div></div>

<p>Dans <code class="highlighter-rouge">Greeter1.hello/1</code>, le tableau associatif que nous passons (<code class="highlighter-rouge">fred</code>) est évalué par rapport à notre argument (<code class="highlighter-rouge">%{name: person_name}</code>):</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">}</span> <span class="o">=</span> <span class="p">%{</span><span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">,</span> <span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">}</span>
</code></pre></div></div>

<p>Une clé qui correspond à <code class="highlighter-rouge">name</code> dans le tableau associatif en entrée est trouvée.
Nous avons une correspondance ! Et comme conséquence de cette mise en correspondance, la valeur associée à la clé <code class="highlighter-rouge">:name</code> dans le tableau à droite (i.e. le tableau associatif <code class="highlighter-rouge">fred</code>) est <em>assignée</em> à la variable à gauche (<code class="highlighter-rouge">person_name</code>).</p>

<p>Maintenant, et si nous voulons assigner le nom de Fred à <code class="highlighter-rouge">person_name</code> mais que nous voulons AUSSI conserver l’entièreté du tableau associatif représentant la personne ? Disons par exemple que nous voulons <code class="highlighter-rouge">IO.inspect(fred)</code> après l’avoir salué.
A ce stade, parce que nous n’avons effectué du <em>pattern matching</em> uniquement sur la clé <code class="highlighter-rouge">:name</code> de notre tableau associatif, n’ayant ainsi assigné que la valeur de cette clé à une variable, la fonction n’a pas accès au reste de Fred.</p>

<p>Afin de le conserver, nous avons besoin d’assigner l’entièreté du tableau associatif à sa propre variable pour pouvoir l’utiliser.</p>

<p>Démarrons l’écriture d’une nouvelle fonction:</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter2</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">}</span> <span class="o">=</span> <span class="n">person</span><span class="p">)</span> <span class="k">do</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">person_name</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">inspect</span> <span class="n">person</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Il faut se souvenir qu’Elixir va mettre en correspondance les arguments comme ils viennent.
Par conséquent dans ce cas, chaque côté va être mis en correspondance avec un argument entrant et assigné avec la valeur associée à cette mise en correspondance.
Examinons le côté droit en premier :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">person</span> <span class="o">=</span> <span class="p">%{</span><span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">,</span> <span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">}</span>
</code></pre></div></div>

<p>Maintenant, <code class="highlighter-rouge">person</code> a été évaluée et assignée en totalité au tableau associatif <em>fred</em>.
Passons à la mise en correspondance suivante :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">}</span> <span class="o">=</span> <span class="p">%{</span><span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">,</span> <span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">}</span>
</code></pre></div></div>

<p>Maintenant, c’est identique à la fonction <code class="highlighter-rouge">Greeter1</code> originale dans laquelle nous realisions le <em>pattern matching</em> sur le tableau associatif mais ne retenions que le nom de Fred.
Ce que nous obtenons, ce sont deux variables que nous pouvons utiliser à la place d’une seule :</p>

<ol>
  <li><code class="highlighter-rouge">person</code> se référant à <code class="highlighter-rouge">%{name: "Fred", age: "95", favorite_color: "Taupe"}</code></li>
  <li><code class="highlighter-rouge">person_name</code> se référeant à <code class="highlighter-rouge">"Fred"</code></li>
</ol>

<p>Désormais quand nous appellons <code class="highlighter-rouge">Greeter2.hello/1</code>, nous pouvons utiliser toutes les information de Fred :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># call with entire person</span>
<span class="o">...&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="n">fred</span><span class="p">)</span>
<span class="s2">"Hello, Fred"</span>
<span class="p">%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">}</span>
<span class="c1"># call with only the name key</span>
<span class="o">...&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">(%{</span><span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">})</span>
<span class="s2">"Hello, Fred"</span>
<span class="p">%{</span><span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">}</span>
<span class="c1"># call without the name key</span>
<span class="o">...&gt;</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="p">(%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">})</span>
<span class="o">**</span> <span class="p">(</span><span class="no">FunctionClauseError</span><span class="p">)</span> <span class="n">no</span> <span class="n">function</span> <span class="n">clause</span> <span class="n">matching</span> <span class="ow">in</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span>

    <span class="no">The</span> <span class="n">following</span> <span class="n">arguments</span> <span class="n">were</span> <span class="n">given</span> <span class="n">to</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span><span class="p">:</span>

        <span class="c1"># 1</span>
        <span class="p">%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">}</span>

    <span class="ss">iex:</span><span class="mi">15</span><span class="p">:</span> <span class="no">Greeter2</span><span class="o">.</span><span class="n">hello</span><span class="o">/</span><span class="mi">1</span>
</code></pre></div></div>

<p>Nous venons ainsi de voir qu’Elixir effectue son <em>pattern matching</em> à plusieurs niveaux parce que chaque argument est mis en correspondance avec les données entrantes de manière indépendante, nous laissant avec les variables par lesquelles les appeler dans notre fonction.</p>

<p>Si nous intervertissons l’ordre de <code class="highlighter-rouge">%{name: person_name}</code> et de <code class="highlighter-rouge">person</code> dans la liste, nous obtiendrons le même résultat puisque chacun est mis en correspondance avec fred indépendamment.</p>

<p>Nous intervertissons la variable et le tableau associatif :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter3</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">person</span> <span class="o">=</span> <span class="p">%{</span><span class="ss">name:</span> <span class="n">person_name</span><span class="p">})</span> <span class="k">do</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">"Hello, "</span> <span class="o">&lt;&gt;</span> <span class="n">person_name</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">inspect</span> <span class="n">person</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Et nous l’appelons avec les mêmes données que celles que nous avons utilisées avec <code class="highlighter-rouge">Greeter2.hello/1</code> :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># call with same old Fred</span>
<span class="o">...&gt;</span> <span class="no">Greeter3</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="n">fred</span><span class="p">)</span>
<span class="s2">"Hello, Fred"</span>
<span class="p">%{</span><span class="ss">age:</span> <span class="s2">"95"</span><span class="p">,</span> <span class="ss">favorite_color:</span> <span class="s2">"Taupe"</span><span class="p">,</span> <span class="ss">name:</span> <span class="s2">"Fred"</span><span class="p">}</span>
</code></pre></div></div>

<p>Il faut bien se rappeler que même si cela donne l’impression que <code class="highlighter-rouge">%{name: person_name} = person</code> met en correspondance <code class="highlighter-rouge">%{name: person_name}</code> avec la variable <code class="highlighter-rouge">person</code>, en fait ils sont chacun mis en correspondance avec l’argument passé en entrée.</p>

<p><strong>Résumé:</strong> Les fonctions effectuent la mise en correspondance des données qui leur sont passées en entrée sur leurs arguments de manière indépendante.
Nous pouvons le mettre à profit pour assigner les valeurs dans des variables différentes au sein de la fonction.</p>

<h3 id="fonctions-privées">Fonctions privées</h3>

<p>Lorsque nous ne voulons pas que d’autres modules aient accès à nos fonctions, nous pouvons utiliser des fonctions privées.
Les fonctions privées sont seulement disponibles au sein de leur propre module. 
Elles sont définies avec le mot-clé <code class="highlighter-rouge">defp</code> :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="n">phrase</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">defp</span> <span class="n">phrase</span><span class="p">,</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Sean"</span><span class="p">)</span>
<span class="s2">"Hello, Sean"</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">phrase</span>
<span class="o">**</span> <span class="p">(</span><span class="no">UndefinedFunctionError</span><span class="p">)</span> <span class="n">function</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">phrase</span><span class="o">/</span><span class="mi">0</span> <span class="n">is</span> <span class="n">undefined</span> <span class="ow">or</span> <span class="n">private</span>
    <span class="no">Greeter</span><span class="o">.</span><span class="n">phrase</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="guards-gardes">Guards (Gardes)</h3>

<p>Nous avons brièvement couvert les gardes (on reprend ici la traduction en français de <em>guards</em> utilisée dans <strong>Programmer en Erlang</strong>, Pearson, 2010) dans la leçon sur les <a href="../control-structures">Structures de contrôle</a>. Nous allons à présent voir comment nous pouvons les appliquer aux fonctions.
Dès lors qu’Elixir a trouvé une correspondance sur un nom de fonction, toutes les gardes seront testées.</p>

<p>L’exemple ci-dessous contient deux fonctions avec la même signature. Nous allons nous servir des gardes pour déterminer laquelle des deux utiliser, en nous basant sur le type des arguments :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">names</span>
    <span class="o">|&gt;</span> <span class="no">Enum</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">hello</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_binary</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">phrase</span><span class="p">()</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">end</span>

  <span class="k">defp</span> <span class="n">phrase</span><span class="p">,</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span> <span class="p">[</span><span class="s2">"Sean"</span><span class="p">,</span> <span class="s2">"Steve"</span><span class="p">]</span>
<span class="s2">"Hello, Sean, Steve"</span>
</code></pre></div></div>

<h3 id="arguments-par-défaut">Arguments par défaut</h3>

<p>Si nous voulons donner une valeur par défaut pour un argument, nous utiliserons la syntaxe <code class="highlighter-rouge">argument \\ valeur</code> :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">language_code</span> <span class="p">\\</span> <span class="s2">"en"</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">phrase</span><span class="p">(</span><span class="n">language_code</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">end</span>

  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"en"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span>
  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"es"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hola, "</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Sean"</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">)</span>
<span class="s2">"Hello, Sean"</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Sean"</span><span class="p">)</span>
<span class="s2">"Hello, Sean"</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s2">"Sean"</span><span class="p">,</span> <span class="s2">"es"</span><span class="p">)</span>
<span class="s2">"Hola, Sean"</span>
</code></pre></div></div>

<p>Quand nous combinons nos exemples de gardes avec les arguments par défaut, nous rencontrons un problème. 
Regardons cela de plus près :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">language_code</span> <span class="p">\\</span> <span class="s2">"en"</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">names</span>
    <span class="o">|&gt;</span> <span class="no">Enum</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">hello</span><span class="p">(</span><span class="n">language_code</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">language_code</span> <span class="p">\\</span> <span class="s2">"en"</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_binary</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">phrase</span><span class="p">(</span><span class="n">language_code</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">end</span>

  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"en"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span>
  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"es"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hola, "</span>
<span class="k">end</span>

<span class="o">**</span> <span class="p">(</span><span class="no">CompileError</span><span class="p">)</span> <span class="ss">iex:</span><span class="mi">31</span><span class="p">:</span> <span class="n">definitions</span> <span class="n">with</span> <span class="n">multiple</span> <span class="n">clauses</span> <span class="ow">and</span> <span class="n">default</span> <span class="n">values</span> <span class="kn">require</span> <span class="n">a</span> <span class="n">header</span><span class="o">.</span>
<span class="no">Instead</span> <span class="ss">of:</span>

    <span class="k">def</span> <span class="n">foo</span><span class="p">(</span><span class="ss">:first_clause</span><span class="p">,</span> <span class="n">b</span> <span class="p">\\</span> <span class="ss">:default</span><span class="p">)</span> <span class="k">do</span> <span class="o">...</span> <span class="k">end</span>
    <span class="k">def</span> <span class="n">foo</span><span class="p">(</span><span class="ss">:second_clause</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">do</span> <span class="o">...</span> <span class="k">end</span>

<span class="n">one</span> <span class="n">should</span> <span class="ss">write:</span>

    <span class="k">def</span> <span class="n">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">\\</span> <span class="ss">:default</span><span class="p">)</span>
    <span class="k">def</span> <span class="n">foo</span><span class="p">(</span><span class="ss">:first_clause</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">do</span> <span class="o">...</span> <span class="k">end</span>
    <span class="k">def</span> <span class="n">foo</span><span class="p">(</span><span class="ss">:second_clause</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">do</span> <span class="o">...</span> <span class="k">end</span>

<span class="k">def</span> <span class="n">hello</span><span class="o">/</span><span class="mi">2</span> <span class="n">has</span> <span class="n">multiple</span> <span class="n">clauses</span> <span class="ow">and</span> <span class="n">defines</span> <span class="n">defaults</span> <span class="ow">in</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">clauses</span>
    <span class="ss">iex:</span><span class="mi">31</span><span class="p">:</span> <span class="p">(</span><span class="n">module</span><span class="p">)</span>
</code></pre></div></div>

<p>Elixir n’aime pas les arguments par défaut dans les fonctions avec plusieurs matchs, ça peut être déroutant.
Pour gérer ceci, nous ajoutons une tête de fonction avec nos arguments par défaut :</p>

<div class="language-elixir highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Greeter</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">language_code</span> <span class="p">\\</span> <span class="s2">"en"</span><span class="p">)</span>

  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">language_code</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">names</span>
    <span class="o">|&gt;</span> <span class="no">Enum</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>
    <span class="o">|&gt;</span> <span class="n">hello</span><span class="p">(</span><span class="n">language_code</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">language_code</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_binary</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">phrase</span><span class="p">(</span><span class="n">language_code</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="n">name</span>
  <span class="k">end</span>

  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"en"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hello, "</span>
  <span class="k">defp</span> <span class="n">phrase</span><span class="p">(</span><span class="s2">"es"</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="s2">"Hola, "</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span> <span class="p">[</span><span class="s2">"Sean"</span><span class="p">,</span> <span class="s2">"Steve"</span><span class="p">]</span>
<span class="s2">"Hello, Sean, Steve"</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">hello</span> <span class="p">[</span><span class="s2">"Sean"</span><span class="p">,</span> <span class="s2">"Steve"</span><span class="p">],</span> <span class="s2">"es"</span>
<span class="s2">"Hola, Sean, Steve"</span>
</code></pre></div></div>

    
    <blockquote class="edit-lesson">    
      Caught a mistake or want to contribute to the lesson?
      <a href="https://github.com/elixirschool/elixirschool/edit/master/fr/lessons/basics/functions.md" target="_blank" rel="noopener">
        Edit this page on GitHub!
      </a>
    </blockquote>
  </div>
</section>



<section>

<div class="row">
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/fr/lessons/basics/control-structures/" title="Structures de Contrôle">← Structures de Contrôle</a>
    </div>
    
    
    
    <div class="6u 12u$(small)">
        <a class="button special fit" href="/fr/lessons/basics/pipe-operator/" title="L'opérateur Pipe">L'opérateur Pipe →</a>
    </div>
    
</div>
</section>




				</div>
			</div>
			<!-- Sidebar -->
  <div id="sidebar">
    <p class="toggle-theme-wrapper"><a rel="noopener" href="#toggle-theme" class="toggle-theme icon fas fa-circle-o" alt="Toggle Theme" title="Toggle Theme"></a></p>

    <div class="inner">
      
<!-- Locales Section -->
<section id="search" class="alt">
  <div id="locales">

      
        
        

        
          <a href="/bg/lessons/basics/functions/" title="Bulgare">bg</a>
        
      
        
        

        
          <a href="/bn/lessons/basics/functions/" title="Bengali">bn</a>
        
      
        
        

        
          <a href="/de/lessons/basics/functions/" title="Allemand">de</a>
        
      
        
        

        
          <a href="/en/lessons/basics/functions/" title="Anglais / English">en</a>
        
      
        
        

        
          <a href="/es/lessons/basics/functions/" title="Espagnol / Español">es</a>
        
      
        
        

        
          <strong title="Francais">fr</strong>
        
      
        
        

        
          <a href="/gr/lessons/basics/functions/" title="Grec">gr</a>
        
      
        
        

        
          <a href="/id/lessons/basics/functions/" title="Indonesien / Bahasa Indonesia">id</a>
        
      
        
        

        
          <a href="/it/lessons/basics/functions/" title="Italien">it</a>
        
      
        
        

        
          <a href="/ja/lessons/basics/functions/" title="Japonais / 日本語">ja</a>
        
      
        
        

        
          <a href="/ko/lessons/basics/functions/" title="Coréen">ko</a>
        
      
        
        

        
          <a href="/ms/lessons/basics/functions/" title="Malaysien">ms</a>
        
      
        
        

        
          <a href="/pl/lessons/basics/functions/" title="Polonais">pl</a>
        
      
        
        

        
          <a href="/pt/lessons/basics/functions/" title="Portuguais">pt</a>
        
      
        
        

        
          <a href="/ru/lessons/basics/functions/" title="Russe / Русский">ru</a>
        
      
        
        

        
          <a href="/sk/lessons/basics/functions/" title="Slovaque">sk</a>
        
      
        
        

        
          <a href="/ta/lessons/basics/functions/" title="Tamoul">ta</a>
        
      
        
        

        
          <a href="/th/lessons/basics/functions/" title="Thailandais / ภาษาไทย">th</a>
        
      
        
        

        
          <a href="/tr/lessons/basics/functions/" title="Turc">tr</a>
        
      
        
        

        
          <a href="/uk/lessons/basics/functions/" title="Ukrainien">uk</a>
        
      
        
        

        
          <a href="/vi/lessons/basics/functions/" title="Vietnamien">vi</a>
        
      
        
        

        
          <a href="/zh-hans/lessons/basics/functions/" title="Chinois">zh-hans</a>
        
      
        
        

        
          <a href="/zh-hant/lessons/basics/functions/" title="Chinois Traditionnel">zh-hant</a>
        
      

  </div>
</section>


      
<!-- Menu -->
<nav id="menu">
  <span class="stack-info otp-version">Elixir 1.10.1 - Erlang/OTP 22.0 [erts-10.5.3]</span>
  <header class="major">
    <h2>Menu</h2>
    <p>La première destination pour apprendre et maîtriser Elixir.</p>
  </header>
  <ul>
    <li>
      <a href="/fr/" class=" up ">Accueil</a>
    </li>
  
    
    
    
    
    
  
    
    
    
    
    
      
        
        <li>
          <span class="opener active up">Bases</span>
          <ul>
        
            <li>
              
              <a href="/fr/lessons/basics/basics/">1. Bases</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/collections/">2. Collections</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/enum/">3. Enum</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/pattern-matching/">4. Pattern Matching</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/control-structures/">5. Structures de Contrôle</a>
              
            </li>
        
      
        
            <li>
              
              <span class="active">6. Fonctions</span>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/pipe-operator/">7. L'opérateur Pipe</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/modules/">8. Modules</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/mix/">9. Mix</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/sigils/">10. Sigils</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/documentation/">11. Documentation</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/testing/">12. Tests</a>
              
            </li>
        
      
        
            <li>
              
              <a href="/fr/lessons/basics/mix-tasks/">16. Tâches Mix Personnalisées</a>
              
            </li>
        
          </ul>
        </li>
        
      
    
  
    <li>
      <a href="/blog/" class=" up ">Blog</a>
    </li>
    
    <li>
      <a href="/fr/report/" class=" up ">Rapport de Traductions</a>
    </li>
    
    <li>
      <a href="/contributors/" class=" up ">Contributeurs</a>
    </li>
  </ul>
</nav>

      <!-- Footer -->
      <footer id="footer">
        <p class="copyright">&copy; 2021 <a target="_blank" rel="noopener" href="https://github.com/doomspork">Sean Callan</a> All rights reserved.</p>
      </footer>
    </div>
  </div>

		</div>
		<!-- Scripts -->

    <script async="" src="/assets/main-f8c201d2721dcb6d1d4f6acb0ebd2b2c192757ed29271f519513e4417e347611.js" type="text/javascript"></script>
		<!--[if lte IE 8]><script async="" src="/assets/ie/respond.min-8306093ccce666c01dab405fac0d16596a1d1cf38aa0ba919d4831261662cdbb.js" type="text/javascript"></script><script src="assets/js/ie/respond.min.js"></script><![endif]-->
	</body>
</html>
